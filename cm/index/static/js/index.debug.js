/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "./";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 3);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};/*! Zepto 1.2.0
 * generated by @sina-mfe
 * modules: zepto event ajax form data callbacks deferred
 *///     Zepto.js
//     (c) 2010-2016 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.
var Zepto=function(){var undefined,key,$,classList,emptyArray=[],_concat=emptyArray.concat,_filter=emptyArray.filter,_slice=emptyArray.slice,document=window.document,elementDisplay={},classCache={},cssNumber={'column-count':1,'columns':1,'font-weight':1,'line-height':1,'opacity':1,'z-index':1,'zoom':1},fragmentRE=/^\s*<(\w+|!)[^>]*>/,singleTagRE=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,tagExpanderRE=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,rootNodeRE=/^(?:body|html)$/i,capitalRE=/([A-Z])/g,// special attributes that should be get/set via method calls
methodAttributes=['val','css','html','text','data','width','height','offset'],adjacencyOperators=['after','prepend','before','append'],table=document.createElement('table'),tableRow=document.createElement('tr'),containers={'tr':document.createElement('tbody'),'tbody':table,'thead':table,'tfoot':table,'td':tableRow,'th':tableRow,'*':document.createElement('div')},simpleSelectorRE=/^[\w-]*$/,class2type={},toString=class2type.toString,zepto={},camelize,uniq,tempParent=document.createElement('div'),propMap={'tabindex':'tabIndex','readonly':'readOnly','for':'htmlFor','class':'className','maxlength':'maxLength','cellspacing':'cellSpacing','cellpadding':'cellPadding','rowspan':'rowSpan','colspan':'colSpan','usemap':'useMap','frameborder':'frameBorder','contenteditable':'contentEditable'},isArray=Array.isArray||function(object){return object instanceof Array;};zepto.matches=function(element,selector){if(!selector||!element||element.nodeType!==1)return false;var matchesSelector=element.matches||element.webkitMatchesSelector||element.mozMatchesSelector||element.oMatchesSelector||element.matchesSelector;if(matchesSelector)return matchesSelector.call(element,selector);// fall back to performing a selector:
var match,parent=element.parentNode,temp=!parent;if(temp)(parent=tempParent).appendChild(element);match=~zepto.qsa(parent,selector).indexOf(element);temp&&tempParent.removeChild(element);return match;};function type(obj){return obj==null?String(obj):class2type[toString.call(obj)]||"object";}function isFunction(value){return type(value)=="function";}function isWindow(obj){return obj!=null&&obj==obj.window;}function isDocument(obj){return obj!=null&&obj.nodeType==obj.DOCUMENT_NODE;}function isObject(obj){return type(obj)=="object";}function isPlainObject(obj){return isObject(obj)&&!isWindow(obj)&&Object.getPrototypeOf(obj)==Object.prototype;}function likeArray(obj){var length=!!obj&&'length'in obj&&obj.length,type=$.type(obj);return'function'!=type&&!isWindow(obj)&&('array'==type||length===0||typeof length=='number'&&length>0&&length-1 in obj);}function compact(array){return _filter.call(array,function(item){return item!=null;});}function flatten(array){return array.length>0?$.fn.concat.apply([],array):array;}camelize=function camelize(str){return str.replace(/-+(.)?/g,function(match,chr){return chr?chr.toUpperCase():'';});};function dasherize(str){return str.replace(/::/g,'/').replace(/([A-Z]+)([A-Z][a-z])/g,'$1_$2').replace(/([a-z\d])([A-Z])/g,'$1_$2').replace(/_/g,'-').toLowerCase();}uniq=function uniq(array){return _filter.call(array,function(item,idx){return array.indexOf(item)==idx;});};function classRE(name){return name in classCache?classCache[name]:classCache[name]=new RegExp('(^|\\s)'+name+'(\\s|$)');}function maybeAddPx(name,value){return typeof value=="number"&&!cssNumber[dasherize(name)]?value+"px":value;}function defaultDisplay(nodeName){var element,display;if(!elementDisplay[nodeName]){element=document.createElement(nodeName);document.body.appendChild(element);display=getComputedStyle(element,'').getPropertyValue("display");element.parentNode.removeChild(element);display=="none"&&(display="block");elementDisplay[nodeName]=display;}return elementDisplay[nodeName];}function _children(element){return'children'in element?_slice.call(element.children):$.map(element.childNodes,function(node){if(node.nodeType==1)return node;});}function Z(dom,selector){var i,len=dom?dom.length:0;for(i=0;i<len;i++){this[i]=dom[i];}this.length=len;this.selector=selector||'';}// `$.zepto.fragment` takes a html string and an optional tag name
// to generate DOM nodes from the given html string.
// The generated DOM nodes are returned as an array.
// This function can be overridden in plugins for example to make
// it compatible with browsers that don't support the DOM fully.
zepto.fragment=function(html,name,properties){var dom,nodes,container;// A special case optimization for a single tag
if(singleTagRE.test(html))dom=$(document.createElement(RegExp.$1));if(!dom){if(html.replace)html=html.replace(tagExpanderRE,"<$1></$2>");if(name===undefined)name=fragmentRE.test(html)&&RegExp.$1;if(!(name in containers))name='*';container=containers[name];container.innerHTML=''+html;dom=$.each(_slice.call(container.childNodes),function(){container.removeChild(this);});}if(isPlainObject(properties)){nodes=$(dom);$.each(properties,function(key,value){if(methodAttributes.indexOf(key)>-1)nodes[key](value);else nodes.attr(key,value);});}return dom;};// `$.zepto.Z` swaps out the prototype of the given `dom` array
// of nodes with `$.fn` and thus supplying all the Zepto functions
// to the array. This method can be overridden in plugins.
zepto.Z=function(dom,selector){return new Z(dom,selector);};// `$.zepto.isZ` should return `true` if the given object is a Zepto
// collection. This method can be overridden in plugins.
zepto.isZ=function(object){return object instanceof zepto.Z;};// `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and
// takes a CSS selector and an optional context (and handles various
// special cases).
// This method can be overridden in plugins.
zepto.init=function(selector,context){var dom;// If nothing given, return an empty Zepto collection
if(!selector)return zepto.Z();// Optimize for string selectors
else if(typeof selector=='string'){selector=selector.trim();// If it's a html fragment, create nodes from it
// Note: In both Chrome 21 and Firefox 15, DOM error 12
// is thrown if the fragment doesn't begin with <
if(selector[0]=='<'&&fragmentRE.test(selector))dom=zepto.fragment(selector,RegExp.$1,context),selector=null;// If there's a context, create a collection on that context first, and select
// nodes from there
else if(context!==undefined)return $(context).find(selector);// If it's a CSS selector, use it to select nodes.
else dom=zepto.qsa(document,selector);}// If a function is given, call it when the DOM is ready
else if(isFunction(selector))return $(document).ready(selector);// If a Zepto collection is given, just return it
else if(zepto.isZ(selector))return selector;else{// normalize array if an array of nodes is given
if(isArray(selector))dom=compact(selector);// Wrap DOM nodes.
else if(isObject(selector))dom=[selector],selector=null;// If it's a html fragment, create nodes from it
else if(fragmentRE.test(selector))dom=zepto.fragment(selector.trim(),RegExp.$1,context),selector=null;// If there's a context, create a collection on that context first, and select
// nodes from there
else if(context!==undefined)return $(context).find(selector);// And last but no least, if it's a CSS selector, use it to select nodes.
else dom=zepto.qsa(document,selector);}// create a new Zepto collection from the nodes found
return zepto.Z(dom,selector);};// `$` will be the base `Zepto` object. When calling this
// function just call `$.zepto.init, which makes the implementation
// details of selecting nodes and creating Zepto collections
// patchable in plugins.
$=function $(selector,context){return zepto.init(selector,context);};function extend(target,source,deep){for(key in source){if(deep&&(isPlainObject(source[key])||isArray(source[key]))){if(isPlainObject(source[key])&&!isPlainObject(target[key]))target[key]={};if(isArray(source[key])&&!isArray(target[key]))target[key]=[];extend(target[key],source[key],deep);}else if(source[key]!==undefined)target[key]=source[key];}}// Copy all but undefined properties from one or more
// objects to the `target` object.
$.extend=function(target){var deep,args=_slice.call(arguments,1);if(typeof target=='boolean'){deep=target;target=args.shift();}args.forEach(function(arg){extend(target,arg,deep);});return target;};// `$.zepto.qsa` is Zepto's CSS selector implementation which
// uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.
// This method can be overridden in plugins.
zepto.qsa=function(element,selector){var found,maybeID=selector[0]=='#',maybeClass=!maybeID&&selector[0]=='.',nameOnly=maybeID||maybeClass?selector.slice(1):selector,// Ensure that a 1 char tag name still gets checked
isSimple=simpleSelectorRE.test(nameOnly);return element.getElementById&&isSimple&&maybeID?// Safari DocumentFragment doesn't have getElementById
(found=element.getElementById(nameOnly))?[found]:[]:element.nodeType!==1&&element.nodeType!==9&&element.nodeType!==11?[]:_slice.call(isSimple&&!maybeID&&element.getElementsByClassName?// DocumentFragment doesn't have getElementsByClassName/TagName
maybeClass?element.getElementsByClassName(nameOnly):// If it's simple, it could be a class
element.getElementsByTagName(selector):// Or a tag
element.querySelectorAll(selector)// Or it's not simple, and we need to query all
);};function filtered(nodes,selector){return selector==null?$(nodes):$(nodes).filter(selector);}$.contains=document.documentElement.contains?function(parent,node){return parent!==node&&parent.contains(node);}:function(parent,node){while(node&&(node=node.parentNode)){if(node===parent)return true;}return false;};function funcArg(context,arg,idx,payload){return isFunction(arg)?arg.call(context,idx,payload):arg;}function setAttribute(node,name,value){value==null?node.removeAttribute(name):node.setAttribute(name,value);}// access className property while respecting SVGAnimatedString
function className(node,value){var klass=node.className||'',svg=klass&&klass.baseVal!==undefined;if(value===undefined)return svg?klass.baseVal:klass;svg?klass.baseVal=value:node.className=value;}// "true"  => true
// "false" => false
// "null"  => null
// "42"    => 42
// "42.5"  => 42.5
// "08"    => "08"
// JSON    => parse if valid
// String  => self
function deserializeValue(value){try{return value?value=="true"||(value=="false"?false:value=="null"?null:+value+""==value?+value:/^[\[\{]/.test(value)?$.parseJSON(value):value):value;}catch(e){return value;}}$.type=type;$.isFunction=isFunction;$.isWindow=isWindow;$.isArray=isArray;$.isPlainObject=isPlainObject;$.isEmptyObject=function(obj){var name;for(name in obj){return false;}return true;};$.isNumeric=function(val){var num=Number(val),type=typeof val==='undefined'?'undefined':_typeof(val);return val!=null&&type!='boolean'&&(type!='string'||val.length)&&!isNaN(num)&&isFinite(num)||false;};$.inArray=function(elem,array,i){return emptyArray.indexOf.call(array,elem,i);};$.camelCase=camelize;$.trim=function(str){return str==null?"":String.prototype.trim.call(str);};// plugin compatibility
$.uuid=0;$.support={};$.expr={};$.noop=function(){};$.map=function(elements,callback){var value,values=[],i,key;if(likeArray(elements))for(i=0;i<elements.length;i++){value=callback(elements[i],i);if(value!=null)values.push(value);}else for(key in elements){value=callback(elements[key],key);if(value!=null)values.push(value);}return flatten(values);};$.each=function(elements,callback){var i,key;if(likeArray(elements)){for(i=0;i<elements.length;i++){if(callback.call(elements[i],i,elements[i])===false)return elements;}}else{for(key in elements){if(callback.call(elements[key],key,elements[key])===false)return elements;}}return elements;};$.grep=function(elements,callback){return _filter.call(elements,callback);};if(window.JSON)$.parseJSON=JSON.parse;// Populate the class2type map
$.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase();});// Define methods that will be available on all
// Zepto collections
$.fn={constructor:zepto.Z,length:0,// Because a collection acts like an array
// copy over these useful array functions.
forEach:emptyArray.forEach,reduce:emptyArray.reduce,push:emptyArray.push,sort:emptyArray.sort,splice:emptyArray.splice,indexOf:emptyArray.indexOf,concat:function concat(){var i,value,args=[];for(i=0;i<arguments.length;i++){value=arguments[i];args[i]=zepto.isZ(value)?value.toArray():value;}return _concat.apply(zepto.isZ(this)?this.toArray():this,args);},// `map` and `slice` in the jQuery API work differently
// from their array counterparts
map:function map(fn){return $($.map(this,function(el,i){return fn.call(el,i,el);}));},slice:function slice(){return $(_slice.apply(this,arguments));},ready:function ready(callback){// don't use "interactive" on IE <= 10 (it can fired premature)
if(document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll)setTimeout(function(){callback($);},0);else{var handler=function handler(){document.removeEventListener("DOMContentLoaded",handler,false);window.removeEventListener("load",handler,false);callback($);};document.addEventListener("DOMContentLoaded",handler,false);window.addEventListener("load",handler,false);}return this;},get:function get(idx){return idx===undefined?_slice.call(this):this[idx>=0?idx:idx+this.length];},toArray:function toArray(){return this.get();},size:function size(){return this.length;},remove:function remove(){return this.each(function(){if(this.parentNode!=null)this.parentNode.removeChild(this);});},each:function each(callback){emptyArray.every.call(this,function(el,idx){return callback.call(el,idx,el)!==false;});return this;},filter:function filter(selector){if(isFunction(selector))return this.not(this.not(selector));return $(_filter.call(this,function(element){return zepto.matches(element,selector);}));},add:function add(selector,context){return $(uniq(this.concat($(selector,context))));},is:function is(selector){return this.length>0&&zepto.matches(this[0],selector);},not:function not(selector){var nodes=[];if(isFunction(selector)&&selector.call!==undefined)this.each(function(idx){if(!selector.call(this,idx))nodes.push(this);});else{var excludes=typeof selector=='string'?this.filter(selector):likeArray(selector)&&isFunction(selector.item)?_slice.call(selector):$(selector);this.forEach(function(el){if(excludes.indexOf(el)<0)nodes.push(el);});}return $(nodes);},has:function has(selector){return this.filter(function(){return isObject(selector)?$.contains(this,selector):$(this).find(selector).size();});},eq:function eq(idx){return idx===-1?this.slice(idx):this.slice(idx,+idx+1);},first:function first(){var el=this[0];return el&&!isObject(el)?el:$(el);},last:function last(){var el=this[this.length-1];return el&&!isObject(el)?el:$(el);},find:function find(selector){var result,$this=this;if(!selector)result=$();else if((typeof selector==='undefined'?'undefined':_typeof(selector))=='object')result=$(selector).filter(function(){var node=this;return emptyArray.some.call($this,function(parent){return $.contains(parent,node);});});else if(this.length==1)result=$(zepto.qsa(this[0],selector));else result=this.map(function(){return zepto.qsa(this,selector);});return result;},closest:function closest(selector,context){var nodes=[],collection=(typeof selector==='undefined'?'undefined':_typeof(selector))=='object'&&$(selector);this.each(function(_,node){while(node&&!(collection?collection.indexOf(node)>=0:zepto.matches(node,selector))){node=node!==context&&!isDocument(node)&&node.parentNode;}if(node&&nodes.indexOf(node)<0)nodes.push(node);});return $(nodes);},parents:function parents(selector){var ancestors=[],nodes=this;while(nodes.length>0){nodes=$.map(nodes,function(node){if((node=node.parentNode)&&!isDocument(node)&&ancestors.indexOf(node)<0){ancestors.push(node);return node;}});}return filtered(ancestors,selector);},parent:function parent(selector){return filtered(uniq(this.pluck('parentNode')),selector);},children:function children(selector){return filtered(this.map(function(){return _children(this);}),selector);},contents:function contents(){return this.map(function(){return this.contentDocument||_slice.call(this.childNodes);});},siblings:function siblings(selector){return filtered(this.map(function(i,el){return _filter.call(_children(el.parentNode),function(child){return child!==el;});}),selector);},empty:function empty(){return this.each(function(){this.innerHTML='';});},// `pluck` is borrowed from Prototype.js
pluck:function pluck(property){return $.map(this,function(el){return el[property];});},show:function show(){return this.each(function(){this.style.display=="none"&&(this.style.display='');if(getComputedStyle(this,'').getPropertyValue("display")=="none")this.style.display=defaultDisplay(this.nodeName);});},replaceWith:function replaceWith(newContent){return this.before(newContent).remove();},wrap:function wrap(structure){var func=isFunction(structure);if(this[0]&&!func)var dom=$(structure).get(0),clone=dom.parentNode||this.length>1;return this.each(function(index){$(this).wrapAll(func?structure.call(this,index):clone?dom.cloneNode(true):dom);});},wrapAll:function wrapAll(structure){if(this[0]){$(this[0]).before(structure=$(structure));var children;// drill down to the inmost element
while((children=structure.children()).length){structure=children.first();}$(structure).append(this);}return this;},wrapInner:function wrapInner(structure){var func=isFunction(structure);return this.each(function(index){var self=$(this),contents=self.contents(),dom=func?structure.call(this,index):structure;contents.length?contents.wrapAll(dom):self.append(dom);});},unwrap:function unwrap(){this.parent().each(function(){$(this).replaceWith($(this).children());});return this;},clone:function clone(){return this.map(function(){return this.cloneNode(true);});},hide:function hide(){return this.css("display","none");},toggle:function toggle(setting){return this.each(function(){var el=$(this);(setting===undefined?el.css("display")=="none":setting)?el.show():el.hide();});},prev:function prev(selector){return $(this.pluck('previousElementSibling')).filter(selector||'*');},next:function next(selector){return $(this.pluck('nextElementSibling')).filter(selector||'*');},html:function html(_html){return 0 in arguments?this.each(function(idx){var originHtml=this.innerHTML;$(this).empty().append(funcArg(this,_html,idx,originHtml));}):0 in this?this[0].innerHTML:null;},text:function text(_text){return 0 in arguments?this.each(function(idx){var newText=funcArg(this,_text,idx,this.textContent);this.textContent=newText==null?'':''+newText;}):0 in this?this.pluck('textContent').join(""):null;},attr:function attr(name,value){var result;return typeof name=='string'&&!(1 in arguments)?0 in this&&this[0].nodeType==1&&(result=this[0].getAttribute(name))!=null?result:undefined:this.each(function(idx){if(this.nodeType!==1)return;if(isObject(name))for(key in name){setAttribute(this,key,name[key]);}else setAttribute(this,name,funcArg(this,value,idx,this.getAttribute(name)));});},removeAttr:function removeAttr(name){return this.each(function(){this.nodeType===1&&name.split(' ').forEach(function(attribute){setAttribute(this,attribute);},this);});},prop:function prop(name,value){name=propMap[name]||name;return 1 in arguments?this.each(function(idx){this[name]=funcArg(this,value,idx,this[name]);}):this[0]&&this[0][name];},removeProp:function removeProp(name){name=propMap[name]||name;return this.each(function(){delete this[name];});},data:function data(name,value){var attrName='data-'+name.replace(capitalRE,'-$1').toLowerCase();var data=1 in arguments?this.attr(attrName,value):this.attr(attrName);return data!==null?deserializeValue(data):undefined;},val:function val(value){if(0 in arguments){if(value==null)value="";return this.each(function(idx){this.value=funcArg(this,value,idx,this.value);});}else{return this[0]&&(this[0].multiple?$(this[0]).find('option').filter(function(){return this.selected;}).pluck('value'):this[0].value);}},offset:function offset(coordinates){if(coordinates)return this.each(function(index){var $this=$(this),coords=funcArg(this,coordinates,index,$this.offset()),parentOffset=$this.offsetParent().offset(),props={top:coords.top-parentOffset.top,left:coords.left-parentOffset.left};if($this.css('position')=='static')props['position']='relative';$this.css(props);});if(!this.length)return null;if(document.documentElement!==this[0]&&!$.contains(document.documentElement,this[0]))return{top:0,left:0};var obj=this[0].getBoundingClientRect();return{left:obj.left+window.pageXOffset,top:obj.top+window.pageYOffset,width:Math.round(obj.width),height:Math.round(obj.height)};},css:function css(property,value){if(arguments.length<2){var element=this[0];if(typeof property=='string'){if(!element)return;return element.style[camelize(property)]||getComputedStyle(element,'').getPropertyValue(property);}else if(isArray(property)){if(!element)return;var props={};var computedStyle=getComputedStyle(element,'');$.each(property,function(_,prop){props[prop]=element.style[camelize(prop)]||computedStyle.getPropertyValue(prop);});return props;}}var css='';if(type(property)=='string'){if(!value&&value!==0)this.each(function(){this.style.removeProperty(dasherize(property));});else css=dasherize(property)+":"+maybeAddPx(property,value);}else{for(key in property){if(!property[key]&&property[key]!==0)this.each(function(){this.style.removeProperty(dasherize(key));});else css+=dasherize(key)+':'+maybeAddPx(key,property[key])+';';}}return this.each(function(){this.style.cssText+=';'+css;});},index:function index(element){return element?this.indexOf($(element)[0]):this.parent().children().indexOf(this[0]);},hasClass:function hasClass(name){if(!name)return false;return emptyArray.some.call(this,function(el){return this.test(className(el));},classRE(name));},addClass:function addClass(name){if(!name)return this;return this.each(function(idx){if(!('className'in this))return;classList=[];var cls=className(this),newName=funcArg(this,name,idx,cls);newName.split(/\s+/g).forEach(function(klass){if(!$(this).hasClass(klass))classList.push(klass);},this);classList.length&&className(this,cls+(cls?" ":"")+classList.join(" "));});},removeClass:function removeClass(name){return this.each(function(idx){if(!('className'in this))return;if(name===undefined)return className(this,'');classList=className(this);funcArg(this,name,idx,classList).split(/\s+/g).forEach(function(klass){classList=classList.replace(classRE(klass)," ");});className(this,classList.trim());});},toggleClass:function toggleClass(name,when){if(!name)return this;return this.each(function(idx){var $this=$(this),names=funcArg(this,name,idx,className(this));names.split(/\s+/g).forEach(function(klass){(when===undefined?!$this.hasClass(klass):when)?$this.addClass(klass):$this.removeClass(klass);});});},scrollTop:function scrollTop(value){if(!this.length)return;var hasScrollTop='scrollTop'in this[0];if(value===undefined)return hasScrollTop?this[0].scrollTop:this[0].pageYOffset;return this.each(hasScrollTop?function(){this.scrollTop=value;}:function(){this.scrollTo(this.scrollX,value);});},scrollLeft:function scrollLeft(value){if(!this.length)return;var hasScrollLeft='scrollLeft'in this[0];if(value===undefined)return hasScrollLeft?this[0].scrollLeft:this[0].pageXOffset;return this.each(hasScrollLeft?function(){this.scrollLeft=value;}:function(){this.scrollTo(value,this.scrollY);});},position:function position(){if(!this.length)return;var elem=this[0],// Get *real* offsetParent
offsetParent=this.offsetParent(),// Get correct offsets
offset=this.offset(),parentOffset=rootNodeRE.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();// Subtract element margins
// note: when an element has margin: auto the offsetLeft and marginLeft
// are the same in Safari causing offset.left to incorrectly be 0
offset.top-=parseFloat($(elem).css('margin-top'))||0;offset.left-=parseFloat($(elem).css('margin-left'))||0;// Add offsetParent borders
parentOffset.top+=parseFloat($(offsetParent[0]).css('border-top-width'))||0;parentOffset.left+=parseFloat($(offsetParent[0]).css('border-left-width'))||0;// Subtract the two offsets
return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left};},offsetParent:function offsetParent(){return this.map(function(){var parent=this.offsetParent||document.body;while(parent&&!rootNodeRE.test(parent.nodeName)&&$(parent).css("position")=="static"){parent=parent.offsetParent;}return parent;});}// for now
};$.fn.detach=$.fn.remove// Generate the `width` and `height` functions
;['width','height'].forEach(function(dimension){var dimensionProperty=dimension.replace(/./,function(m){return m[0].toUpperCase();});$.fn[dimension]=function(value){var offset,el=this[0];if(value===undefined)return isWindow(el)?el['inner'+dimensionProperty]:isDocument(el)?el.documentElement['scroll'+dimensionProperty]:(offset=this.offset())&&offset[dimension];else return this.each(function(idx){el=$(this);el.css(dimension,funcArg(this,value,idx,el[dimension]()));});};});function traverseNode(node,fun){fun(node);for(var i=0,len=node.childNodes.length;i<len;i++){traverseNode(node.childNodes[i],fun);}}// Generate the `after`, `prepend`, `before`, `append`,
// `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.
adjacencyOperators.forEach(function(operator,operatorIndex){var inside=operatorIndex%2;//=> prepend, append
$.fn[operator]=function(){// arguments can be nodes, arrays of nodes, Zepto objects and HTML strings
var argType,nodes=$.map(arguments,function(arg){var arr=[];argType=type(arg);if(argType=="array"){arg.forEach(function(el){if(el.nodeType!==undefined)return arr.push(el);else if($.zepto.isZ(el))return arr=arr.concat(el.get());arr=arr.concat(zepto.fragment(el));});return arr;}return argType=="object"||arg==null?arg:zepto.fragment(arg);}),parent,copyByClone=this.length>1;if(nodes.length<1)return this;return this.each(function(_,target){parent=inside?target:target.parentNode;// convert all methods to a "before" operation
target=operatorIndex==0?target.nextSibling:operatorIndex==1?target.firstChild:operatorIndex==2?target:null;var parentInDocument=$.contains(document.documentElement,parent);nodes.forEach(function(node){if(copyByClone)node=node.cloneNode(true);else if(!parent)return $(node).remove();parent.insertBefore(node,target);if(parentInDocument)traverseNode(node,function(el){if(el.nodeName!=null&&el.nodeName.toUpperCase()==='SCRIPT'&&(!el.type||el.type==='text/javascript')&&!el.src){var target=el.ownerDocument?el.ownerDocument.defaultView:window;target['eval'].call(target,el.innerHTML);}});});});};// after    => insertAfter
// prepend  => prependTo
// before   => insertBefore
// append   => appendTo
$.fn[inside?operator+'To':'insert'+(operatorIndex?'Before':'After')]=function(html){$(html)[operator](this);return this;};});zepto.Z.prototype=Z.prototype=$.fn;// Export internal API functions in the `$.zepto` namespace
zepto.uniq=uniq;zepto.deserializeValue=deserializeValue;$.zepto=zepto;return $;}();// If `$` is not yet defined, point it to `Zepto`
window.Zepto=Zepto;window.$===undefined&&(window.$=Zepto)//     Zepto.js
//     (c) 2010-2016 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.
;(function($){var _zid=1,undefined,slice=Array.prototype.slice,isFunction=$.isFunction,isString=function isString(obj){return typeof obj=='string';},handlers={},specialEvents={},focusinSupported='onfocusin'in window,focus={focus:'focusin',blur:'focusout'},hover={mouseenter:'mouseover',mouseleave:'mouseout'};specialEvents.click=specialEvents.mousedown=specialEvents.mouseup=specialEvents.mousemove='MouseEvents';function zid(element){return element._zid||(element._zid=_zid++);}function findHandlers(element,event,fn,selector){event=parse(event);if(event.ns)var matcher=matcherFor(event.ns);return(handlers[zid(element)]||[]).filter(function(handler){return handler&&(!event.e||handler.e==event.e)&&(!event.ns||matcher.test(handler.ns))&&(!fn||zid(handler.fn)===zid(fn))&&(!selector||handler.sel==selector);});}function parse(event){var parts=(''+event).split('.');return{e:parts[0],ns:parts.slice(1).sort().join(' ')};}function matcherFor(ns){return new RegExp('(?:^| )'+ns.replace(' ',' .* ?')+'(?: |$)');}function eventCapture(handler,captureSetting){return handler.del&&!focusinSupported&&handler.e in focus||!!captureSetting;}function realEvent(type){return hover[type]||focusinSupported&&focus[type]||type;}function add(element,events,fn,data,selector,delegator,capture){var id=zid(element),set=handlers[id]||(handlers[id]=[]);events.split(/\s/).forEach(function(event){if(event=='ready')return $(document).ready(fn);var handler=parse(event);handler.fn=fn;handler.sel=selector;// emulate mouseenter, mouseleave
if(handler.e in hover)fn=function fn(e){var related=e.relatedTarget;if(!related||related!==this&&!$.contains(this,related))return handler.fn.apply(this,arguments);};handler.del=delegator;var callback=delegator||fn;handler.proxy=function(e){e=compatible(e);if(e.isImmediatePropagationStopped())return;e.data=data;var result=callback.apply(element,e._args==undefined?[e]:[e].concat(e._args));if(result===false)e.preventDefault(),e.stopPropagation();return result;};handler.i=set.length;set.push(handler);if('addEventListener'in element)element.addEventListener(realEvent(handler.e),handler.proxy,eventCapture(handler,capture));});}function remove(element,events,fn,selector,capture){var id=zid(element);(events||'').split(/\s/).forEach(function(event){findHandlers(element,event,fn,selector).forEach(function(handler){delete handlers[id][handler.i];if('removeEventListener'in element)element.removeEventListener(realEvent(handler.e),handler.proxy,eventCapture(handler,capture));});});}$.event={add:add,remove:remove};$.proxy=function(fn,context){var args=2 in arguments&&slice.call(arguments,2);if(isFunction(fn)){var proxyFn=function proxyFn(){return fn.apply(context,args?args.concat(slice.call(arguments)):arguments);};proxyFn._zid=zid(fn);return proxyFn;}else if(isString(context)){if(args){args.unshift(fn[context],fn);return $.proxy.apply(null,args);}else{return $.proxy(fn[context],fn);}}else{throw new TypeError("expected function");}};$.fn.bind=function(event,data,callback){return this.on(event,data,callback);};$.fn.unbind=function(event,callback){return this.off(event,callback);};$.fn.one=function(event,selector,data,callback){return this.on(event,selector,data,callback,1);};var returnTrue=function returnTrue(){return true;},returnFalse=function returnFalse(){return false;},ignoreProperties=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,eventMethods={preventDefault:'isDefaultPrevented',stopImmediatePropagation:'isImmediatePropagationStopped',stopPropagation:'isPropagationStopped'};function compatible(event,source){if(source||!event.isDefaultPrevented){source||(source=event);$.each(eventMethods,function(name,predicate){var sourceMethod=source[name];event[name]=function(){this[predicate]=returnTrue;return sourceMethod&&sourceMethod.apply(source,arguments);};event[predicate]=returnFalse;});try{event.timeStamp||(event.timeStamp=Date.now());}catch(ignored){}if(source.defaultPrevented!==undefined?source.defaultPrevented:'returnValue'in source?source.returnValue===false:source.getPreventDefault&&source.getPreventDefault())event.isDefaultPrevented=returnTrue;}return event;}function createProxy(event){var key,proxy={originalEvent:event};for(key in event){if(!ignoreProperties.test(key)&&event[key]!==undefined)proxy[key]=event[key];}return compatible(proxy,event);}$.fn.delegate=function(selector,event,callback){return this.on(event,selector,callback);};$.fn.undelegate=function(selector,event,callback){return this.off(event,selector,callback);};$.fn.live=function(event,callback){$(document.body).delegate(this.selector,event,callback);return this;};$.fn.die=function(event,callback){$(document.body).undelegate(this.selector,event,callback);return this;};$.fn.on=function(event,selector,data,callback,one){var autoRemove,delegator,$this=this;if(event&&!isString(event)){$.each(event,function(type,fn){$this.on(type,selector,data,fn,one);});return $this;}if(!isString(selector)&&!isFunction(callback)&&callback!==false)callback=data,data=selector,selector=undefined;if(callback===undefined||data===false)callback=data,data=undefined;if(callback===false)callback=returnFalse;return $this.each(function(_,element){if(one)autoRemove=function autoRemove(e){remove(element,e.type,callback);return callback.apply(this,arguments);};if(selector)delegator=function delegator(e){var evt,match=$(e.target).closest(selector,element).get(0);if(match&&match!==element){evt=$.extend(createProxy(e),{currentTarget:match,liveFired:element});return(autoRemove||callback).apply(match,[evt].concat(slice.call(arguments,1)));}};add(element,event,callback,data,selector,delegator||autoRemove);});};$.fn.off=function(event,selector,callback){var $this=this;if(event&&!isString(event)){$.each(event,function(type,fn){$this.off(type,selector,fn);});return $this;}if(!isString(selector)&&!isFunction(callback)&&callback!==false)callback=selector,selector=undefined;if(callback===false)callback=returnFalse;return $this.each(function(){remove(this,event,callback,selector);});};$.fn.trigger=function(event,args){event=isString(event)||$.isPlainObject(event)?$.Event(event):compatible(event);event._args=args;return this.each(function(){// handle focus(), blur() by calling them directly
if(event.type in focus&&typeof this[event.type]=="function")this[event.type]();// items in the collection might not be DOM elements
else if('dispatchEvent'in this)this.dispatchEvent(event);else $(this).triggerHandler(event,args);});};// triggers event handlers on current element just as if an event occurred,
// doesn't trigger an actual event, doesn't bubble
$.fn.triggerHandler=function(event,args){var e,result;this.each(function(i,element){e=createProxy(isString(event)?$.Event(event):event);e._args=args;e.target=element;$.each(findHandlers(element,event.type||event),function(i,handler){result=handler.proxy(e);if(e.isImmediatePropagationStopped())return false;});});return result;}// shortcut methods for `.bind(event, fn)` for each event type
;('focusin focusout focus blur load resize scroll unload click dblclick '+'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+'change select keydown keypress keyup error').split(' ').forEach(function(event){$.fn[event]=function(callback){return 0 in arguments?this.bind(event,callback):this.trigger(event);};});$.Event=function(type,props){if(!isString(type))props=type,type=props.type;var event=document.createEvent(specialEvents[type]||'Events'),bubbles=true;if(props)for(var name in props){name=='bubbles'?bubbles=!!props[name]:event[name]=props[name];}event.initEvent(type,bubbles,true);return compatible(event);};})(Zepto)//     Zepto.js
//     (c) 2010-2016 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.
;(function($){var jsonpID=+new Date(),document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType='application/json',htmlType='text/html',blankRE=/^\s*$/,originAnchor=document.createElement('a');originAnchor.href=window.location.href;// trigger a custom event and return false if it was cancelled
function triggerAndReturn(context,eventName,data){var event=$.Event(eventName);$(context).trigger(event,data);return!event.isDefaultPrevented();}// trigger an Ajax "global" event
function triggerGlobal(settings,context,eventName,data){if(settings.global)return triggerAndReturn(context||document,eventName,data);}// Number of active Ajax requests
$.active=0;function ajaxStart(settings){if(settings.global&&$.active++===0)triggerGlobal(settings,null,'ajaxStart');}function ajaxStop(settings){if(settings.global&&! --$.active)triggerGlobal(settings,null,'ajaxStop');}// triggers an extra global event "ajaxBeforeSend" that's like "ajaxSend" but cancelable
function ajaxBeforeSend(xhr,settings){var context=settings.context;if(settings.beforeSend.call(context,xhr,settings)===false||triggerGlobal(settings,context,'ajaxBeforeSend',[xhr,settings])===false)return false;triggerGlobal(settings,context,'ajaxSend',[xhr,settings]);}function ajaxSuccess(data,xhr,settings,deferred){var context=settings.context,status='success';settings.success.call(context,data,status,xhr);if(deferred)deferred.resolveWith(context,[data,status,xhr]);triggerGlobal(settings,context,'ajaxSuccess',[xhr,settings,data]);ajaxComplete(status,xhr,settings);}// type: "timeout", "error", "abort", "parsererror"
function ajaxError(error,type,xhr,settings,deferred){var context=settings.context;settings.error.call(context,xhr,type,error);if(deferred)deferred.rejectWith(context,[xhr,type,error]);triggerGlobal(settings,context,'ajaxError',[xhr,settings,error||type]);ajaxComplete(type,xhr,settings);}// status: "success", "notmodified", "error", "timeout", "abort", "parsererror"
function ajaxComplete(status,xhr,settings){var context=settings.context;settings.complete.call(context,xhr,status);triggerGlobal(settings,context,'ajaxComplete',[xhr,settings]);ajaxStop(settings);}function ajaxDataFilter(data,type,settings){if(settings.dataFilter==empty)return data;var context=settings.context;return settings.dataFilter.call(context,data,type);}// Empty function, used as default callback
function empty(){}$.ajaxJSONP=function(options,deferred){if(!('type'in options))return $.ajax(options);var _callbackName=options.jsonpCallback,callbackName=($.isFunction(_callbackName)?_callbackName():_callbackName)||'Zepto'+jsonpID++,script=document.createElement('script'),originalCallback=window[callbackName],responseData,abort=function abort(errorType){$(script).triggerHandler('error',errorType||'abort');},xhr={abort:abort},abortTimeout;if(deferred)deferred.promise(xhr);$(script).on('load error',function(e,errorType){clearTimeout(abortTimeout);$(script).off().remove();if(e.type=='error'||!responseData){ajaxError(null,errorType||'error',xhr,options,deferred);}else{ajaxSuccess(responseData[0],xhr,options,deferred);}window[callbackName]=originalCallback;if(responseData&&$.isFunction(originalCallback))originalCallback(responseData[0]);originalCallback=responseData=undefined;});if(ajaxBeforeSend(xhr,options)===false){abort('abort');return xhr;}window[callbackName]=function(){responseData=arguments;};script.src=options.url.replace(/\?(.+)=\?/,'?$1='+callbackName);document.head.appendChild(script);if(options.timeout>0)abortTimeout=setTimeout(function(){abort('timeout');},options.timeout);return xhr;};$.ajaxSettings={// Default type of request
type:'GET',// Callback that is executed before request
beforeSend:empty,// Callback that is executed if the request succeeds
success:empty,// Callback that is executed the the server drops error
error:empty,// Callback that is executed on request complete (both: error and success)
complete:empty,// The context for the callbacks
context:null,// Whether to trigger "global" Ajax events
global:true,// Transport
xhr:function xhr(){return new window.XMLHttpRequest();},// MIME types mapping
// IIS returns Javascript as "application/x-javascript"
accepts:{script:'text/javascript, application/javascript, application/x-javascript',json:jsonType,xml:'application/xml, text/xml',html:htmlType,text:'text/plain'},// Whether the request is to another domain
crossDomain:false,// Default timeout
timeout:0,// Whether data should be serialized to string
processData:true,// Whether the browser should be allowed to cache GET responses
cache:true,//Used to handle the raw response data of XMLHttpRequest.
//This is a pre-filtering function to sanitize the response.
//The sanitized response should be returned
dataFilter:empty};function mimeToDataType(mime){if(mime)mime=mime.split(';',2)[0];return mime&&(mime==htmlType?'html':mime==jsonType?'json':scriptTypeRE.test(mime)?'script':xmlTypeRE.test(mime)&&'xml')||'text';}function appendQuery(url,query){if(query=='')return url;return(url+'&'+query).replace(/[&?]{1,2}/,'?');}// serialize payload and append it to the URL for GET requests
function serializeData(options){if(options.processData&&options.data&&$.type(options.data)!="string")options.data=$.param(options.data,options.traditional);if(options.data&&(!options.type||options.type.toUpperCase()=='GET'||'jsonp'==options.dataType))options.url=appendQuery(options.url,options.data),options.data=undefined;}$.ajax=function(options){var settings=$.extend({},options||{}),deferred=$.Deferred&&$.Deferred(),urlAnchor,hashIndex;for(key in $.ajaxSettings){if(settings[key]===undefined)settings[key]=$.ajaxSettings[key];}ajaxStart(settings);if(!settings.crossDomain){urlAnchor=document.createElement('a');urlAnchor.href=settings.url;// cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049
urlAnchor.href=urlAnchor.href;settings.crossDomain=originAnchor.protocol+'//'+originAnchor.host!==urlAnchor.protocol+'//'+urlAnchor.host;}if(!settings.url)settings.url=window.location.toString();if((hashIndex=settings.url.indexOf('#'))>-1)settings.url=settings.url.slice(0,hashIndex);serializeData(settings);var dataType=settings.dataType,hasPlaceholder=/\?.+=\?/.test(settings.url);if(hasPlaceholder)dataType='jsonp';if(settings.cache===false||(!options||options.cache!==true)&&('script'==dataType||'jsonp'==dataType))settings.url=appendQuery(settings.url,'_='+Date.now());if('jsonp'==dataType){if(!hasPlaceholder)settings.url=appendQuery(settings.url,settings.jsonp?settings.jsonp+'=?':settings.jsonp===false?'':'callback=?');return $.ajaxJSONP(settings,deferred);}var mime=settings.accepts[dataType],headers={},setHeader=function setHeader(name,value){headers[name.toLowerCase()]=[name,value];},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=settings.xhr(),nativeSetHeader=xhr.setRequestHeader,abortTimeout;if(deferred)deferred.promise(xhr);if(!settings.crossDomain)setHeader('X-Requested-With','XMLHttpRequest');setHeader('Accept',mime||'*/*');if(mime=settings.mimeType||mime){if(mime.indexOf(',')>-1)mime=mime.split(',',2)[0];xhr.overrideMimeType&&xhr.overrideMimeType(mime);}if(settings.contentType||settings.contentType!==false&&settings.data&&settings.type.toUpperCase()!='GET')setHeader('Content-Type',settings.contentType||'application/x-www-form-urlencoded');if(settings.headers)for(name in settings.headers){setHeader(name,settings.headers[name]);}xhr.setRequestHeader=setHeader;xhr.onreadystatechange=function(){if(xhr.readyState==4){xhr.onreadystatechange=empty;clearTimeout(abortTimeout);var result,error=false;if(xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=='file:'){dataType=dataType||mimeToDataType(settings.mimeType||xhr.getResponseHeader('content-type'));if(xhr.responseType=='arraybuffer'||xhr.responseType=='blob')result=xhr.response;else{result=xhr.responseText;try{// http://perfectionkills.com/global-eval-what-are-the-options/
// sanitize response accordingly if data filter callback provided
result=ajaxDataFilter(result,dataType,settings);if(dataType=='script')(1,eval)(result);else if(dataType=='xml')result=xhr.responseXML;else if(dataType=='json')result=blankRE.test(result)?null:$.parseJSON(result);}catch(e){error=e;}if(error)return ajaxError(error,'parsererror',xhr,settings,deferred);}ajaxSuccess(result,xhr,settings,deferred);}else{ajaxError(xhr.statusText||null,xhr.status?'error':'abort',xhr,settings,deferred);}}};if(ajaxBeforeSend(xhr,settings)===false){xhr.abort();ajaxError(null,'abort',xhr,settings,deferred);return xhr;}var async='async'in settings?settings.async:true;xhr.open(settings.type,settings.url,async,settings.username,settings.password);if(settings.xhrFields)for(name in settings.xhrFields){xhr[name]=settings.xhrFields[name];}for(name in headers){nativeSetHeader.apply(xhr,headers[name]);}if(settings.timeout>0)abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty;xhr.abort();ajaxError(null,'timeout',xhr,settings,deferred);},settings.timeout);// avoid sending empty string (#319)
xhr.send(settings.data?settings.data:null);return xhr;};// handle optional data/success arguments
function parseArguments(url,data,success,dataType){if($.isFunction(data))dataType=success,success=data,data=undefined;if(!$.isFunction(success))dataType=success,success=undefined;return{url:url,data:data,success:success,dataType:dataType};}$.get=function()/* url, data, success, dataType */{return $.ajax(parseArguments.apply(null,arguments));};$.post=function()/* url, data, success, dataType */{var options=parseArguments.apply(null,arguments);options.type='POST';return $.ajax(options);};$.getJSON=function()/* url, data, success */{var options=parseArguments.apply(null,arguments);options.dataType='json';return $.ajax(options);};$.fn.load=function(url,data,success){if(!this.length)return this;var self=this,parts=url.split(/\s/),selector,options=parseArguments(url,data,success),callback=options.success;if(parts.length>1)options.url=parts[0],selector=parts[1];options.success=function(response){self.html(selector?$('<div>').html(response.replace(rscript,"")).find(selector):response);callback&&callback.apply(self,arguments);};$.ajax(options);return this;};var escape=encodeURIComponent;function serialize(params,obj,traditional,scope){var type,array=$.isArray(obj),hash=$.isPlainObject(obj);$.each(obj,function(key,value){type=$.type(value);if(scope)key=traditional?scope:scope+'['+(hash||type=='object'||type=='array'?key:'')+']';// handle data in serializeArray() format
if(!scope&&array)params.add(value.name,value.value);// recurse into nested objects
else if(type=="array"||!traditional&&type=="object")serialize(params,value,traditional,key);else params.add(key,value);});}$.param=function(obj,traditional){var params=[];params.add=function(key,value){if($.isFunction(value))value=value();if(value==null)value="";this.push(escape(key)+'='+escape(value));};serialize(params,obj,traditional);return params.join('&').replace(/%20/g,'+');};})(Zepto)//     Zepto.js
//     (c) 2010-2016 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.
;(function($){$.fn.serializeArray=function(){var name,type,result=[],add=function add(value){if(value.forEach)return value.forEach(add);result.push({name:name,value:value});};if(this[0])$.each(this[0].elements,function(_,field){type=field.type,name=field.name;if(name&&field.nodeName.toLowerCase()!='fieldset'&&!field.disabled&&type!='submit'&&type!='reset'&&type!='button'&&type!='file'&&(type!='radio'&&type!='checkbox'||field.checked))add($(field).val());});return result;};$.fn.serialize=function(){var result=[];this.serializeArray().forEach(function(elm){result.push(encodeURIComponent(elm.name)+'='+encodeURIComponent(elm.value));});return result.join('&');};$.fn.submit=function(callback){if(0 in arguments)this.bind('submit',callback);else if(this.length){var event=$.Event('submit');this.eq(0).trigger(event);if(!event.isDefaultPrevented())this.get(0).submit();}return this;};})(Zepto)//     Zepto.js
//     (c) 2010-2016 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.
// The following code is heavily inspired by jQuery's $.fn.data()
;(function($){var data={},dataAttr=$.fn.data,camelize=$.camelCase,exp=$.expando='Zepto'+ +new Date(),emptyArray=[];// Get value from node:
// 1. first try key as given,
// 2. then try camelized key,
// 3. fall back to reading "data-*" attribute.
function getData(node,name){var id=node[exp],store=id&&data[id];if(name===undefined)return store||setData(node);else{if(store){if(name in store)return store[name];var camelName=camelize(name);if(camelName in store)return store[camelName];}return dataAttr.call($(node),name);}}// Store value under camelized key on node
function setData(node,name,value){var id=node[exp]||(node[exp]=++$.uuid),store=data[id]||(data[id]=attributeData(node));if(name!==undefined)store[camelize(name)]=value;return store;}// Read all "data-*" attributes from a node
function attributeData(node){var store={};$.each(node.attributes||emptyArray,function(i,attr){if(attr.name.indexOf('data-')==0)store[camelize(attr.name.replace('data-',''))]=$.zepto.deserializeValue(attr.value);});return store;}$.fn.data=function(name,value){return value===undefined?// set multiple values via object
$.isPlainObject(name)?this.each(function(i,node){$.each(name,function(key,value){setData(node,key,value);});}):// get value from first element
0 in this?getData(this[0],name):undefined:// set value on all elements
this.each(function(){setData(this,name,value);});};$.data=function(elem,name,value){return $(elem).data(name,value);};$.hasData=function(elem){var id=elem[exp],store=id&&data[id];return store?!$.isEmptyObject(store):false;};$.fn.removeData=function(names){if(typeof names=='string')names=names.split(/\s+/);return this.each(function(){var id=this[exp],store=id&&data[id];if(store)$.each(names||store,function(key){delete store[names?camelize(this):key];});});}// Generate extended `remove` and `empty` functions
;['remove','empty'].forEach(function(methodName){var origFn=$.fn[methodName];$.fn[methodName]=function(){var elements=this.find('*');if(methodName==='remove')elements=elements.add(this);elements.removeData();return origFn.call(this);};});})(Zepto)//     Zepto.js
//     (c) 2010-2016 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.
;(function($){// Create a collection of callbacks to be fired in a sequence, with configurable behaviour
// Option flags:
//   - once: Callbacks fired at most one time.
//   - memory: Remember the most recent context and arguments
//   - stopOnFalse: Cease iterating over callback list
//   - unique: Permit adding at most one instance of the same callback
$.Callbacks=function(options){options=$.extend({},options);var memory,// Last fire value (for non-forgettable lists)
_fired,// Flag to know if list was already fired
firing,// Flag to know if list is currently firing
firingStart,// First callback to fire (used internally by add and fireWith)
firingLength,// End of the loop when firing
firingIndex,// Index of currently firing callback (modified by remove if needed)
list=[],// Actual callback list
stack=!options.once&&[],// Stack of fire calls for repeatable lists
fire=function fire(data){memory=options.memory&&data;_fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;++firingIndex){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break;}}firing=false;if(list){if(stack)stack.length&&fire(stack.shift());else if(memory)list.length=0;else Callbacks.disable();}},Callbacks={add:function add(){if(list){var start=list.length,add=function add(args){$.each(args,function(_,arg){if(typeof arg==="function"){if(!options.unique||!Callbacks.has(arg))list.push(arg);}else if(arg&&arg.length&&typeof arg!=='string')add(arg);});};add(arguments);if(firing)firingLength=list.length;else if(memory){firingStart=start;fire(memory);}}return this;},remove:function remove(){if(list){$.each(arguments,function(_,arg){var index;while((index=$.inArray(arg,list,index))>-1){list.splice(index,1);// Handle firing indexes
if(firing){if(index<=firingLength)--firingLength;if(index<=firingIndex)--firingIndex;}}});}return this;},has:function has(fn){return!!(list&&(fn?$.inArray(fn,list)>-1:list.length));},empty:function empty(){firingLength=list.length=0;return this;},disable:function disable(){list=stack=memory=undefined;return this;},disabled:function disabled(){return!list;},lock:function lock(){stack=undefined;if(!memory)Callbacks.disable();return this;},locked:function locked(){return!stack;},fireWith:function fireWith(context,args){if(list&&(!_fired||stack)){args=args||[];args=[context,args.slice?args.slice():args];if(firing)stack.push(args);else fire(args);}return this;},fire:function fire(){return Callbacks.fireWith(this,arguments);},fired:function fired(){return!!_fired;}};return Callbacks;};})(Zepto)//     Zepto.js
//     (c) 2010-2016 Thomas Fuchs
//     Zepto.js may be freely distributed under the MIT license.
//
//     Some code (c) 2005, 2013 jQuery Foundation, Inc. and other contributors
;(function($){var slice=Array.prototype.slice;function Deferred(func){var tuples=[// action, add listener, listener list, final state
["resolve","done",$.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",$.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",$.Callbacks({memory:1})]],_state="pending",_promise={state:function state(){return _state;},always:function always(){deferred.done(arguments).fail(arguments);return this;},then:function then()/* fnDone [, fnFailed [, fnProgress]] */{var fns=arguments;return Deferred(function(defer){$.each(tuples,function(i,tuple){var fn=$.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&$.isFunction(returned.promise)){returned.promise().done(defer.resolve).fail(defer.reject).progress(defer.notify);}else{var context=this===_promise?defer.promise():this,values=fn?[returned]:arguments;defer[tuple[0]+"With"](context,values);}});});fns=null;}).promise();},promise:function promise(obj){return obj!=null?$.extend(obj,_promise):_promise;}},deferred={};$.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];_promise[tuple[1]]=list.add;if(stateString){list.add(function(){_state=stateString;},tuples[i^1][2].disable,tuples[2][2].lock);}deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?_promise:this,arguments);return this;};deferred[tuple[0]+"With"]=list.fireWith;});_promise.promise(deferred);if(func)func.call(deferred,deferred);return deferred;}$.when=function(sub){var resolveValues=slice.call(arguments),len=resolveValues.length,i=0,remain=len!==1||sub&&$.isFunction(sub.promise)?len:0,deferred=remain===1?sub:Deferred(),progressValues,progressContexts,resolveContexts,updateFn=function updateFn(i,ctx,val){return function(value){ctx[i]=this;val[i]=arguments.length>1?slice.call(arguments):value;if(val===progressValues){deferred.notifyWith(ctx,val);}else if(! --remain){deferred.resolveWith(ctx,val);}};};if(len>1){progressValues=new Array(len);progressContexts=new Array(len);resolveContexts=new Array(len);for(;i<len;++i){if(resolveValues[i]&&$.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFn(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFn(i,progressContexts,progressValues));}else{--remain;}}}if(!remain)deferred.resolveWith(resolveContexts,resolveValues);return deferred.promise();};$.Deferred=Deferred;})(Zepto);/* harmony default export */ __webpack_exports__["a"] = (Zepto);

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return getEl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return runtime; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return context; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return registerRuntime; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return destroyRuntime; });
var SID='mr-type';var runtime={// 模块实例集合
// 在继承了 BaseModule 的组件对象实例化时注册
// 在 ModuleFactory 自动绑定 DOM 组件时注册
// {
//   Foo: [  // 键值为 class name
//     {
//        el: Element,
//        obj: foo,
//        src: 'obj'
//     },
//     {
//        el: Element,
//        obj: foo,
//        src: 'dom'
//     },
//     ...
//   ],
//   Bar: [{bar1}, {bar2}, ...]
// }
instancePool:{get length(){return Object.keys(runtime.instancePool).length-1;}},// 模块构造器数集合，由 BaseModule.regist 注册
// {<typeName>: <Class>}
// {
//   foo: class Foo,
//   bar: class Bar
// }
classPool:{}};var context={// 支持原生对象，Zepto对象，CSS 选择器
getInstance:function getInstance(selector){var results=queryInstances(selector);switch(results.length){case 0:return null;case 1:return results[0]['obj'];default:return results.map(function(mod){return mod.obj;});}},/**
   * 获取所有通过 BaseModule.regist 注册的类
   * @return {Array} [{class: 'Foo', typeName: 'foo'}]
   */showProtoes:function showProtoes(){return Object.keys(runtime.classPool).map(function(name){return{class:runtime.classPool[name].name,typeName:name};});},getProto:function getProto(typeName){return runtime.classPool[typeName];},destroy:function destroy(obj){}};/**
 * 将组件初始化后的实例对象注册到 runtime 的实例池中
 * @param  {Module Object} obj 组件对象
 * @param  {Element} el  组件绑定的原生 DOM 元素
 */function registerRuntime(obj,el){var className=obj.constructor.name;var conf={obj:obj,el:el,className:className,index:getInitedObjIndex(className,el)};if(conf.index>-1){console.warn(el);throw new Error('同一元素不可绑定多个对象');}else if(hasInstanceType(className)){patchInstance(conf);}else{addInstance(conf);}// console.log(el)
}function addInstance(ins){Object.defineProperty(runtime.instancePool,ins.className,{value:[{obj:ins.obj,el:ins.el,src:ins.el['__src']==='dom'?'dom':'obj'}],writable:false,enumerable:true});}function patchInstance(ins){runtime.instancePool[ins.className].push({obj:ins.obj,el:ins.el,src:ins.el['__src']==='dom'?'dom':'obj'});}// function replaceInstance(ins) {
//   const instanceList = getInstancesByClassName(ins.className)
//   if (ins.el['__src'] !== 'dom') {
//     instanceList[ins.index].obj = ins.obj
//   }
// }
function hasInstanceType(className){return runtime.instancePool.hasOwnProperty(className);}// 根据查找某类别下绑定的实例，未找到索引时，返回 -1
function getInitedObjIndex(className,el){if(!hasInstanceType(className))return-1;var instanceList=getInstancesByClassName(className);for(var i=0;i<instanceList.length;i++){if(instanceList[i].el.isEqualNode(el))return i;}return-1;}// 当为 dom list 时取第一个元素，包装为 Zepto 对象
// el 非法时，返回 undefined
function getEl(el){var p=function p($el){return $el.length>0?($el['__ck']=true,$el):void 0;};switch(true){case el instanceof Element:return p($(el));case el instanceof NodeList:return p($(el[0]));case el instanceof HTMLCollection:return p($(el[0]));case el&&el['__ck']:return el;// $el
default:return p($($(el).get(0)));// Zepto
}}// el 参数类型安全，兼容原生 Element 与 Zepto 对象
function getTypeNameByDOM($el){return $el?$el.attr(SID):$el;}function getClassNameByDOM($el){var typeName=getTypeNameByDOM($el);var MClass=context.getProto(typeName);return MClass&&MClass.name;}function getInstancesByClassName(name){var objs=runtime.instancePool[name];// 始终返回数组，方便遍历使用
return typeof objs==='undefined'?[]:objs;}function getInstancesByDOM($el){var className=getClassNameByDOM($el);return getInstancesByClassName(className);}function queryInstances(selector){var $el=getEl(selector);var instanceList=getInstancesByDOM($el);return instanceList.filter(function(mod){return mod.el.isEqualNode($el[0]);});}function destroyRuntime(obj){console.log('destroy',obj);}

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export q */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return load; });
/* unused harmony export random */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return getUrlParam; });
/* unused harmony export isWechat */
/* unused harmony export limitStr */
/* unused harmony export storage */
/* unused harmony export isEmpty */
/* unused harmony export testEmail */
/* unused harmony export likeNumber */
/* unused harmony export checkCookie */
/* unused harmony export getCookie */
/* unused harmony export setCookie */
/* unused harmony export delCookie */
/* unused harmony export parseDate */
/* unused harmony export throttle */
/* unused harmony export realTime */
/* unused harmony export reformNum */
/* unused harmony export Touch */
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}/**
 * 返回指定精度整型随机数
 * @param  {Number} min 左边距
 * @param  {Number} max 右边距
 * @return {Number}   指定范围随机数
 * random(1, 3)  // 1 | 2 | 3
 */function random(){var min=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return Math.floor(Math.random()*(max-min+1)+min);}/**
 * 原生选择器
 * @return {Element} 匹配元素列表
 * e.g.
 * q('.name')  // Element
 * q('.name', '.profile')  // Element
 */function q(){return document.querySelectorAll.apply(document,arguments);}/**
 * 获取url参数
 * @param  {String} name 参数名
 * @return {String}      参数值
 * e.g.
 * // http://www.vv314.com?type=1&id=1
 * getUrlParam('id')  // 1
 * getUrlParam('name')  // null
 */function getUrlParam(name){var reg=new RegExp('(^|&)'+name+'=([^&]*)(&|$)');var value=window.location.search.substr(1).match(reg);return value===null?null:decodeURI(value[2]);}/**
 * 判断是否为微信浏览器
 * @return {Boolean}
 */function isWechat(){var ua=navigator.userAgent.toLowerCase();return ua.match(/MicroMessenger/i)==='micromessenger';}/**
 * 字符串超出截取，以省略号结尾
 * @param  {String} str    待截取字符串
 * @param  {Number} maxlength 长度
 * @return {String}        截取结果
 * e.g.
 * limitStr('abcdefg', 4) // abcd...
 */function limitStr(str,maxlength){return str.length>maxlength?str.substr(0,maxlength)+'...':str;}/**
 * 设置/获取 localStorage
 * 当 value 缺省时为获取数据, value 为对象时,执行序列化
 * @param  {String} name  数据名
 * @param  {String} [value] 数据项
 * e.g.
 * storage('goodid')  // 获取 goodid
 * storage('profile', {name: fish, gender: 1})  // 存储 profile
 */function storage(name,value){var data='';if(arguments.length===1){data=localStorage.getItem(name);try{return JSON.parse(data);}catch(e){return data;}}else{localStorage.setItem(name,(typeof value==='undefined'?'undefined':_typeof(value))==='object'?JSON.stringify(value):value);}}/**
 * 判断字符串、数组、对象内容是否为空
 * @param  {String | Obejct}  obj  数据源
 * @return {Boolean}  判断结果
 * e.g.
 * isEmpty('')  // true
 * isEmpty([])  // true
 * isEmpty({})  // true
 * isEmpty({name: 'fish'})  // false
 */function isEmpty(obj){switch(typeof obj==='undefined'?'undefined':_typeof(obj)){case'undefined':return true;case'string':return!obj.length;case'object':return obj===null||!Object.keys(obj).length;}}/**
 * 判断是否为数字或数字字符串
 * @param  {Number | String} 数据
 * @return {Boolean}       判断结果
 * e.g.
 * likeNumber(5)  // true
 * likeNumber('8')  // true
 * likeNumber('2a')  // false
 */function likeNumber(value){return!isNaN(Number(value));}/**
 * 邮箱格式验证
 * @param  {String} email  email地址
 * @return {Boolean}  验证结果
 * e.g.
 * vaildEmail('vv314@foxmail.com')  // true
 */function testEmail(email){var emailRegex=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return emailRegex.test(email);}/**
 * 检查 cookie 是否可用
 * @return {Boolean} true: 支持  false: 不支持
 */function checkCookie(){// 现代浏览器已支持 cookieEnabled
return!!window.navigator.cookieEnabled;}/**
 * 获取 Cookie
 * @param  {String} name  cookie名称
 * @return {String}
 * e.g.
 * // cookie: name=fish
 * getCookie('name')  // fish
 * getCookie('age')  // ''
 */function getCookie(name){var reg=new RegExp(name+'=(.*?)($|;)');var value=reg.exec(document.cookie);return value===null?'':decodeURI(value[1]);}/**
 * 设置 Cookie
 * @param {String} name   cookie 名
 * @param {String} value  cookie 值
 * @param {Number} days   有效时间
 * @param {String} domain 域名
 */function setCookie(name,value){var days=arguments.length>2&&arguments[2]!==undefined?arguments[2]:15;var domain=arguments[3];var exp=new Date();var domainStr=domain?'domain='+domain:'';exp.setDate(exp.getDate()+days);// 调用 encodeURI 对中文及特殊符号编码
document.cookie=name+'='+encodeURI(value)+';expires='+exp+';path=/;'+domainStr;}/**
 * 删除 Cookie
 * @param {String} name  cookie 名称
 * @param {String} domain  域名
 */function delCookie(name,domain){setCookie(name,'',-1,domain);}/**
 * 格式化时间
 * @param  {Date} dateObj Date 对象或时间戳
 * @return {Object}
 */function parseDate(dateObj){var f=function f(n){return n>9?n:'0'+n;};var date=dateObj instanceof Date?dateObj:new Date(dateObj);return{y:date.getFullYear(),M:f(date.getMonth()+1),d:f(date.getDate()),h:f(date.getHours()),m:f(date.getMinutes()),s:f(date.getSeconds())};}/**
 * 节流函数
 * @param  {Function} method 函数
 * @param  {Number} delay   间隔时间
 * @return {Function}        新函数
 */function throttle(method,delay){var timer=null;return function(){var _this=this;var args=arguments;clearTimeout(timer);timer=setTimeout(function(){method.apply(_this,args);},delay);};}/**
 * 显示时钟
 * @param  {Function} cb         回调函数
 * @param  {Number}   freshTime 刷新时间，毫秒
 * @return {Object}             由 parseDate 返回的时间对象
 */function realTime(cb,freshTime){cb(parseDate(new Date()));return setInterval(function(){cb(parseDate(new Date()));},freshTime||1000);}/**
 * 格式化评论数
 * @param  {Number} num [description]
 * @return {String}     [description]
 *
 * e.g
 * reformNum(10000)  // 1万
 */function reformNum(){var num=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var result=num;if(!num)return 0;if(num>=1000000){result=Math.floor(num/10000)+'万';}else if(num>=10000){result=Number((num/10000).toFixed(1))+'万';}return result;}function LoadProto(){function load(src,callback){load.js(src,callback);}load.js=function(src,callback){var id=getIdBySrc(src);var el=document.getElementById(id);if(el){callback();}else{el=document.createElement('script');el.id=id;el.src=src;el.addEventListener('load',function(event){callback(null,event);});el.addEventListener('error',callback);document.body.appendChild(el);}return el;};load.series=function(urls,callback){var url=urls.shift();if(url){load(url,function(error){error?callback(error):load.series(urls,callback);});}else{callback();}};load.parallel=function(urls,callback){var i=urls.length;var done=void 0;var func=function func(error){--i;if(!i&&!done||error){done=true;callback(error);}};urls.forEach(function(url){return load(url,func);});};function getIdBySrc(src){var isStr=typeof src==='string';var num=void 0,sub=void 0;if(!isStr)return;if(~src.indexOf(':')){src+='-join';}num=src.lastIndexOf('/')+1;sub=src.substr(src,num);return src.replace(sub,'').replace(/\./g,'-');}return load;}// 加载单个脚本
// load('https://sina.cn/a.js', callback)
//
// 串行加载脚本
// load.series(['https://sina.cn/a.js', 'https://sina.cn/b.js'], callback)
//
// 并行加载脚本
// load.parallel(['https://sina.cn/a.js', 'https://sina.cn/b.js'], callback)
var load=new LoadProto();/**
 * 检测手势方向
 *
 * e.g
 * var touch = new Touch()
 *
 * touch.listen('#app', function(direction) {
 *   console.log(direction)
 * })
 */var Touch=function(){function Touch(){var threshold=arguments.length>0&&arguments[0]!==undefined?arguments[0]:20;_classCallCheck(this,Touch);this.isMobile='ontouchstart'in window;this.threshold=threshold;}_createClass(Touch,[{key:'_getAngle',value:function _getAngle(x,y){return Math.atan2(y,x)*180/Math.PI;}},{key:'start',value:function start(e){this.startX=this.isMobile?e.touches[0].pageX:e.x;this.startY=this.isMobile?e.touches[0].pageY:e.y;}},{key:'end',value:function end(e){this.endX=this.isMobile?e.changedTouches[0].pageX:e.x;this.endY=this.isMobile?e.changedTouches[0].pageY:e.y;return this._getDirection();}},{key:'_getDirection',value:function _getDirection(){var angX=this.endX-this.startX;var angY=this.endY-this.startY;var result='none';// 如果滑动距离太短
if(Math.abs(angX)<this.threshold&&Math.abs(angY)<this.threshold)return result;var angle=this._getAngle(angX,angY);if(angle>=-135&&angle<=-45){result='up';}else if(angle>45&&angle<135){result='down';}else if(angle>=135&&angle<=180||angle>=-180&&angle<-135){result='left';}else if(angle>=-45&&angle<=45){result='right';}return result;}},{key:'listen',value:function listen(selector,handle){var _this2=this;var touchEventsDesktop={start:'mousedown',end:'mouseup'};if(window.navigator.pointerEnabled){touchEventsDesktop={start:'pointerdown',end:'pointerup'};}else if(window.navigator.msPointerEnabled){touchEventsDesktop={start:'MSPointerDown',end:'MSPointerUp'};}var touchEvent={start:this.isMobile?'touchstart':touchEventsDesktop.start,end:this.isMobile?'touchend':touchEventsDesktop.end};$(selector).on(touchEvent.start,this.start.bind(this));$(selector).on(touchEvent.end,function(e){return handle(_this2.end(e));});}}]);return Touch;}();

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(4);
module.exports = __webpack_require__(11);


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

if (typeof Promise === 'undefined') {
  window.Promise = __webpack_require__(5)
}

// Object.assign() is commonly used with React.
// It will use the native implementation if it's present and isn't buggy.
Object.assign = __webpack_require__(10)


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(setImmediate) {(function (root) {

  // Store setTimeout reference so promise-polyfill will be unaffected by
  // other code modifying setTimeout (like sinon.useFakeTimers())
  var setTimeoutFunc = setTimeout;

  function noop() {}
  
  // Polyfill for Function.prototype.bind
  function bind(fn, thisArg) {
    return function () {
      fn.apply(thisArg, arguments);
    };
  }

  function Promise(fn) {
    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');
    if (typeof fn !== 'function') throw new TypeError('not a function');
    this._state = 0;
    this._handled = false;
    this._value = undefined;
    this._deferreds = [];

    doResolve(fn, this);
  }

  function handle(self, deferred) {
    while (self._state === 3) {
      self = self._value;
    }
    if (self._state === 0) {
      self._deferreds.push(deferred);
      return;
    }
    self._handled = true;
    Promise._immediateFn(function () {
      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;
      if (cb === null) {
        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);
        return;
      }
      var ret;
      try {
        ret = cb(self._value);
      } catch (e) {
        reject(deferred.promise, e);
        return;
      }
      resolve(deferred.promise, ret);
    });
  }

  function resolve(self, newValue) {
    try {
      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');
      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {
        var then = newValue.then;
        if (newValue instanceof Promise) {
          self._state = 3;
          self._value = newValue;
          finale(self);
          return;
        } else if (typeof then === 'function') {
          doResolve(bind(then, newValue), self);
          return;
        }
      }
      self._state = 1;
      self._value = newValue;
      finale(self);
    } catch (e) {
      reject(self, e);
    }
  }

  function reject(self, newValue) {
    self._state = 2;
    self._value = newValue;
    finale(self);
  }

  function finale(self) {
    if (self._state === 2 && self._deferreds.length === 0) {
      Promise._immediateFn(function() {
        if (!self._handled) {
          Promise._unhandledRejectionFn(self._value);
        }
      });
    }

    for (var i = 0, len = self._deferreds.length; i < len; i++) {
      handle(self, self._deferreds[i]);
    }
    self._deferreds = null;
  }

  function Handler(onFulfilled, onRejected, promise) {
    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
    this.onRejected = typeof onRejected === 'function' ? onRejected : null;
    this.promise = promise;
  }

  /**
   * Take a potentially misbehaving resolver function and make sure
   * onFulfilled and onRejected are only called once.
   *
   * Makes no guarantees about asynchrony.
   */
  function doResolve(fn, self) {
    var done = false;
    try {
      fn(function (value) {
        if (done) return;
        done = true;
        resolve(self, value);
      }, function (reason) {
        if (done) return;
        done = true;
        reject(self, reason);
      });
    } catch (ex) {
      if (done) return;
      done = true;
      reject(self, ex);
    }
  }

  Promise.prototype['catch'] = function (onRejected) {
    return this.then(null, onRejected);
  };

  Promise.prototype.then = function (onFulfilled, onRejected) {
    var prom = new (this.constructor)(noop);

    handle(this, new Handler(onFulfilled, onRejected, prom));
    return prom;
  };

  Promise.all = function (arr) {
    var args = Array.prototype.slice.call(arr);

    return new Promise(function (resolve, reject) {
      if (args.length === 0) return resolve([]);
      var remaining = args.length;

      function res(i, val) {
        try {
          if (val && (typeof val === 'object' || typeof val === 'function')) {
            var then = val.then;
            if (typeof then === 'function') {
              then.call(val, function (val) {
                res(i, val);
              }, reject);
              return;
            }
          }
          args[i] = val;
          if (--remaining === 0) {
            resolve(args);
          }
        } catch (ex) {
          reject(ex);
        }
      }

      for (var i = 0; i < args.length; i++) {
        res(i, args[i]);
      }
    });
  };

  Promise.resolve = function (value) {
    if (value && typeof value === 'object' && value.constructor === Promise) {
      return value;
    }

    return new Promise(function (resolve) {
      resolve(value);
    });
  };

  Promise.reject = function (value) {
    return new Promise(function (resolve, reject) {
      reject(value);
    });
  };

  Promise.race = function (values) {
    return new Promise(function (resolve, reject) {
      for (var i = 0, len = values.length; i < len; i++) {
        values[i].then(resolve, reject);
      }
    });
  };

  // Use polyfill for setImmediate for performance gains
  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||
    function (fn) {
      setTimeoutFunc(fn, 0);
    };

  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {
    if (typeof console !== 'undefined' && console) {
      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console
    }
  };

  /**
   * Set the immediate function to execute callbacks
   * @param fn {function} Function to execute
   * @deprecated
   */
  Promise._setImmediateFn = function _setImmediateFn(fn) {
    Promise._immediateFn = fn;
  };

  /**
   * Change the function to execute on unhandled rejection
   * @param {function} fn Function to execute on unhandled rejection
   * @deprecated
   */
  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {
    Promise._unhandledRejectionFn = fn;
  };
  
  if (typeof module !== 'undefined' && module.exports) {
    module.exports = Promise;
  } else if (!root.Promise) {
    root.Promise = Promise;
  }

})(this);

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6).setImmediate))

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

var apply = Function.prototype.apply;

// DOM APIs, for completeness

exports.setTimeout = function() {
  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);
};
exports.setInterval = function() {
  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);
};
exports.clearTimeout =
exports.clearInterval = function(timeout) {
  if (timeout) {
    timeout.close();
  }
};

function Timeout(id, clearFn) {
  this._id = id;
  this._clearFn = clearFn;
}
Timeout.prototype.unref = Timeout.prototype.ref = function() {};
Timeout.prototype.close = function() {
  this._clearFn.call(window, this._id);
};

// Does not start the time, just sets up the members needed.
exports.enroll = function(item, msecs) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = msecs;
};

exports.unenroll = function(item) {
  clearTimeout(item._idleTimeoutId);
  item._idleTimeout = -1;
};

exports._unrefActive = exports.active = function(item) {
  clearTimeout(item._idleTimeoutId);

  var msecs = item._idleTimeout;
  if (msecs >= 0) {
    item._idleTimeoutId = setTimeout(function onTimeout() {
      if (item._onTimeout)
        item._onTimeout();
    }, msecs);
  }
};

// setimmediate attaches itself to the global object
__webpack_require__(7);
exports.setImmediate = setImmediate;
exports.clearImmediate = clearImmediate;


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 6–8
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(8), __webpack_require__(9)))

/***/ }),
/* 8 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1,eval)("this");
} catch(e) {
	// This works if the window reference is available
	if(typeof window === "object")
		g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 9 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/


/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};


/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__mfelibs_base_utils__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__css_style_css__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__css_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__css_style_css__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__js_index_js__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__js_LZWEncoder_js__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__js_LZWEncoder_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__js_LZWEncoder_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__js_NeuQuant_js__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__js_NeuQuant_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__js_NeuQuant_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__js_GIFEncoder_js__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__js_GIFEncoder_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__js_GIFEncoder_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__js_b64_js__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__js_b64_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__js_b64_js__);
var draw=new __WEBPACK_IMPORTED_MODULE_2__js_index_js__["a" /* default */](Object(__WEBPACK_IMPORTED_MODULE_0__mfelibs_base_utils__["a" /* $ */])('video')[0]);var startTime=null;var endTime=null;document.getElementById('j_start').addEventListener('click',function(){document.getElementById('video').pause();startTime=document.getElementById('video').currentTime;document.getElementById('j_start').innerHTML=document.getElementById('video').currentTime;},false);document.getElementById('j_end').addEventListener('click',function(){document.getElementById('video').pause();endTime=document.getElementById('video').currentTime;document.getElementById('j_end').innerHTML=document.getElementById('video').currentTime;},false);document.getElementById('j_begin').addEventListener('click',function(){document.getElementById('video').currentTime=startTime;document.getElementById('video').play();var time=setInterval(function(){console.log('drawImage');var show=draw.paint();// debugger
document.getElementById('shotBar').appendChild(show[0]);document.getElementById('video').play();Object(__WEBPACK_IMPORTED_MODULE_0__mfelibs_base_utils__["a" /* $ */])('#test').append('<span>'+document.getElementById('video').currentTime+'&nbsp;&nbsp;</span>');console.log(document.getElementById('video').currentTime,endTime);if(document.getElementById('video').currentTime>endTime){console.log('stop');clearInterval(time);var encoder=new GIFEncoder();encoder.setRepeat(0);//0  -> loop forever
//1+ -> loop n times then stop
encoder.setDelay(300);//go to next frame every n milliseconds
encoder.start();encoder.setSize(1280,720);draw.result.forEach(function(ele,index){encoder.addFrame(ele,true);});encoder.finish();encoder.download("download.gif");}},500);},false);

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__zepto_js__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__event_js__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__module_control_js__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__circle_js__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__extra_js__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_js__ = __webpack_require__(2);
/* unused harmony reexport default */
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__zepto_js__["a"]; });
/* unused harmony reexport BaseModule */
/* unused harmony reexport Utils */
/* unused harmony reexport Zepto */
/* unused harmony reexport Page */
/* unused harmony reexport Event */
function init(){// 挂载全局命名空间，暴露 Circle.ready 函数与事件模块，
// SINA_NEWS.event 模块阉割 showEvents 方法
window.SINA_NEWS=window.SINA_NEWS||{ready:__WEBPACK_IMPORTED_MODULE_3__circle_js__["a" /* default */].ready,event:__WEBPACK_IMPORTED_MODULE_1__event_js__["a" /* event */]};__WEBPACK_IMPORTED_MODULE_4__extra_js__["a" /* default */].load();}init();

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return event; });
/* unused harmony export superEvent */
var _onObj={};var _oneObj={};var event={/**
   * 监听事件
   * @param  {String}   key 事件名称
   * @param  {Function} fn  回调函数
   */on:function on(key,fn){if(_onObj[key]===undefined){_onObj[key]=[];}_onObj[key].push(fn);},one:function one(key,fn){if(_oneObj[key]===undefined){_oneObj[key]=[];}_oneObj[key].push(fn);},off:function off(key){_onObj[key]=[];_oneObj[key]=[];},emit:function emit(){var key=void 0,args=void 0;if(!arguments.length){return false;}key=arguments[0];args=[].concat(Array.prototype.slice.call(arguments,1));if(_onObj[key]&&_onObj[key].length){for(var i in _onObj[key]){_onObj[key][i].apply(null,args);}}if(_oneObj[key]&&_oneObj[key].length){for(var _i in this.oneObj[key]){_oneObj[key][_i].apply(null,args);_oneObj[key][_i]=void 0;}_oneObj[key]=[];}}};var eventPlus={showEvents:function showEvents(type){var events={on:Object.keys(_onObj),one:Object.keys(_oneObj)};return type?events[type]:events;}};var superEvent=$.extend(eventPlus,event);

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__zepto_js__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__context_js__ = __webpack_require__(1);
var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var BaseModule=function(){/**
   * 模块基类
   * @param  {Element | $Element}  el      dom 节点，可为原生或 zeto 对象
   * @param  {Object}  options 自定义配置信息
   * @param  {Boolean} isRoot  是否将自定义配置作为根配置
   */function BaseModule(el){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var isRoot=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;_classCallCheck(this,BaseModule);var $el=this.$el=Object(__WEBPACK_IMPORTED_MODULE_1__context_js__["d" /* getEl */])(el);// 模块实例 on 事件集合
var _evtOn={};// 模块实例 one 事件集合
var _evtOne={};if(!$el)throw new Error('can\'t find element');var config=this._getDOMConfig(el);this.__options=isRoot?__WEBPACK_IMPORTED_MODULE_0__zepto_js__["a" /* default */].extend(true,config,options):__WEBPACK_IMPORTED_MODULE_0__zepto_js__["a" /* default */].extend(true,options,config);this.on=function(key,fn){if(_evtOn[key]===undefined){_evtOn[key]=[];}_evtOn[key].push(fn);};this.one=function(key,fn){if(_evtOne[key]===undefined){_evtOne[key]=[];}_evtOne[key].push(fn);};this.off=function(key){_evtOn[key]=[];_evtOne[key]=[];};/**
     * 触发事件
     * @param  {String}  事件名
     * @param  {...args}  不定参数，事件信息
     */this.emit=function(){var key=void 0,args=void 0;if(!arguments.length){return false;}key=arguments[0];args=[].concat(Array.prototype.slice.call(arguments,1));if(_evtOn[key]&&_evtOn[key].length){for(var i in _evtOn[key]){_evtOn[key][i].apply(null,args);}}if(_evtOne[key]&&_evtOne[key].length){for(var _i in this.oneObj[key]){_evtOne[key][_i].apply(null,args);_evtOne[key][_i]=void 0;}_evtOne[key]=[];}};$el.attr(__WEBPACK_IMPORTED_MODULE_1__context_js__["a" /* SID */],this.constructor.mrType);Object(__WEBPACK_IMPORTED_MODULE_1__context_js__["e" /* registerRuntime */])(this,$el[0]);}_createClass(BaseModule,[{key:'getContext',value:function getContext(){return __WEBPACK_IMPORTED_MODULE_1__context_js__["b" /* context */];}},{key:'getOptions',value:function getOptions(){var defConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return __WEBPACK_IMPORTED_MODULE_0__zepto_js__["a" /* default */].extend(true,{},defConfig,this.__options);}},{key:'destroy',value:function destroy(){Object(__WEBPACK_IMPORTED_MODULE_1__context_js__["c" /* destroyRuntime */])(this);}},{key:'_getDOMConfig',value:function _getDOMConfig(el){var $el=Object(__WEBPACK_IMPORTED_MODULE_1__context_js__["d" /* getEl */])(el||this.$el);// el 非法时，返回 {}
if((typeof $el==='undefined'?'undefined':_typeof($el))===undefined)return{};var dataset=$el[0].dataset;var objDataset=getObjectAttr($el,'datas-');// console.log(objDataset)
return __WEBPACK_IMPORTED_MODULE_0__zepto_js__["a" /* default */].extend({},dataset,objDataset);}}],[{key:'register',value:function register(ClassObj,typeName){ClassObj.mrType=typeName;__WEBPACK_IMPORTED_MODULE_1__context_js__["f" /* runtime */].classPool[typeName]=ClassObj;}}]);return BaseModule;}();function getObjectAttr($el){var flag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'datas-';var attr=$el[0].attributes;var mDataset={};for(var i=0;i<attr.length;i++){var name=attr[i].name;var val=attr[i].value;if(name.indexOf(flag)>-1){name=name.replace(flag,'');mDataset[name]=parseJson(val);}}return mDataset;}function parseJson(str){try{return JSON.parse(str);// return eval('Object(' + str + ')')
}catch(e){return null;}}/* unused harmony default export */ var _unused_webpack_default_export = (BaseModule);

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__module_factory__ = __webpack_require__(16);
var lifeCircle={init:function init(cb){console.log('init');},ready:function ready(cb){$(function(){// 扫描绑定组件对象与 DOM 元素
var context=__WEBPACK_IMPORTED_MODULE_0__module_factory__["a" /* default */].init();typeof cb==='function'&&cb(context);});},destroy:function destroy(){console.log('destroy');}};/* harmony default export */ __webpack_exports__["a"] = (lifeCircle);

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__zepto_js__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__context_js__ = __webpack_require__(1);
var moduleFactory={init:function init(){var _this=this;// const $mDOMs = $(`[${sid}auto]`).not(`[${sid}auto=false]`)
var $mDOMs=Object(__WEBPACK_IMPORTED_MODULE_0__zepto_js__["a" /* default */])('['+__WEBPACK_IMPORTED_MODULE_1__context_js__["a" /* SID */]+']').not('[mr-auto=false]');$mDOMs.each(function(i,el){// 查询 context 实例池，避免用户在 ready 事件前
// 调用 new 构造实例后，框架扫描 DOM 自动初始化多次
if(!__WEBPACK_IMPORTED_MODULE_1__context_js__["b" /* context */].getInstance(el)){_this.createModule(el);}});return __WEBPACK_IMPORTED_MODULE_1__context_js__["b" /* context */];},createModule:function createModule(el){var tName=Object(__WEBPACK_IMPORTED_MODULE_0__zepto_js__["a" /* default */])(el).attr(__WEBPACK_IMPORTED_MODULE_1__context_js__["a" /* SID */]);var Module=__WEBPACK_IMPORTED_MODULE_1__context_js__["b" /* context */].getProto(tName);var modObj=null;if(typeof Module==='undefined'){console.warn('Module ['+tName+'] is not regiested.');return null;}el['__src']='dom';modObj=new Module(el);delete el['__src'];return modObj;}};/* harmony default export */ __webpack_exports__["a"] = (moduleFactory);

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_js__ = __webpack_require__(2);
var erudaUrl='//mjs.sinaimg.cn/wap/online/others/eruda/eruda.min.js';var mdebugUrl='//mjs.sinaimg.cn/wap/online/public/mdebug/201706161130/js/index.min.js';var fireMap={_devtools:devtools,_mlog:mlog};function devtools(debugMode){if(debugMode){Object(__WEBPACK_IMPORTED_MODULE_0__utils_js__["b" /* load */])(erudaUrl,function(){window.eruda&&window.eruda.init();console.log('[base-utils] eruda ready');});}}function mlog(debugMode){if(debugMode){Object(__WEBPACK_IMPORTED_MODULE_0__utils_js__["b" /* load */])(mdebugUrl,function(){console.log('[base-utils] mlog ready');});}}function init(){Object.keys(fireMap).forEach(function(key){return fireMap[key](Object(__WEBPACK_IMPORTED_MODULE_0__utils_js__["a" /* getUrlParam */])(key));});}/* harmony default export */ __webpack_exports__["a"] = ({load:init,devtools:devtools,mlog:mlog});

/***/ }),
/* 18 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var drawVideo=function(){function drawVideo(vDom){_classCallCheck(this,drawVideo);this.canvas=null;this.ctx=null;this.video=vDom;this.width=null;this.height=null;this.result=[];}_createClass(drawVideo,[{key:"paint",value:function paint(){this.width=this.video.videoWidth;this.height=this.video.videoHeight;this.createCanvas();return this.getImage();}},{key:"createCanvas",value:function createCanvas(){this.canvas=document.createElement("canvas");this.ctx=this.canvas.getContext("2d");this.canvas.width=this.width;this.canvas.height=this.height;console.log(this.width+" , "+this.height);this.ctx.fillStyle="#ffffff";this.ctx.fillRect(0,0,this.width,this.height);}},{key:"getImage",value:function getImage(event){this.video.pause();this.ctx.drawImage(this.video,0,0,this.width,this.height,0,0,this.width,this.height);var dataUrl=this.canvas.toDataURL("image/png");var x=this.ctx.getImageData(0,0,this.width,this.height);this.result.push(x.data);console.log(this.result);var imgBig=$("<img/>");imgBig.attr("src",dataUrl);return imgBig;}}]);return drawVideo;}();/* harmony default export */ __webpack_exports__["a"] = (drawVideo);

/***/ }),
/* 20 */
/***/ (function(module, exports) {

/**
 * This class handles LZW encoding
 * Adapted from Jef Poskanzer's Java port by way of J. M. G. Elliott.
 * @author Kevin Weiner (original Java version - kweiner@fmsware.com)
 * @author Thibault Imbert (AS3 version - bytearray.org)
 * @author Kevin Kwok (JavaScript version - https://github.com/antimatter15/jsgif)
 * @version 0.1 AS3 implementation
 */LZWEncoder=function LZWEncoder(){var exports={};var EOF=-1;var imgW;var imgH;var pixAry;var initCodeSize;var remaining;var curPixel;// GIFCOMPR.C - GIF Image compression routines
// Lempel-Ziv compression based on 'compress'. GIF modifications by
// David Rowley (mgardi@watdcsu.waterloo.edu)
// General DEFINEs
var BITS=12;var HSIZE=5003;// 80% occupancy
// GIF Image compression - modified 'compress'
// Based on: compress.c - File compression ala IEEE Computer, June 1984.
// By Authors: Spencer W. Thomas (decvax!harpo!utah-cs!utah-gr!thomas)
// Jim McKie (decvax!mcvax!jim)
// Steve Davies (decvax!vax135!petsd!peora!srd)
// Ken Turkowski (decvax!decwrl!turtlevax!ken)
// James A. Woods (decvax!ihnp4!ames!jaw)
// Joe Orost (decvax!vax135!petsd!joe)
var n_bits;// number of bits/code
var maxbits=BITS;// user settable max # bits/code
var maxcode;// maximum code, given n_bits
var maxmaxcode=1<<BITS;// should NEVER generate this code
var htab=[];var codetab=[];var hsize=HSIZE;// for dynamic table sizing
var free_ent=0;// first unused entry
// block compression parameters -- after all codes are used up,
// and compression rate changes, start over.
var clear_flg=false;// Algorithm: use open addressing double hashing (no chaining) on the
// prefix code / next character combination. We do a variant of Knuth's
// algorithm D (vol. 3, sec. 6.4) along with G. Knott's relatively-prime
// secondary probe. Here, the modular division first probe is gives way
// to a faster exclusive-or manipulation. Also do block compression with
// an adaptive reset, whereby the code table is cleared when the compression
// ratio decreases, but after the table fills. The variable-length output
// codes are re-sized at this point, and a special CLEAR code is generated
// for the decompressor. Late addition: construct the table according to
// file size for noticeable speed improvement on small files. Please direct
// questions about this implementation to ames!jaw.
var g_init_bits;var ClearCode;var EOFCode;// output
// Output the given code.
// Inputs:
// code: A n_bits-bit integer. If == -1, then EOF. This assumes
// that n_bits =< wordsize - 1.
// Outputs:
// Outputs code to the file.
// Assumptions:
// Chars are 8 bits long.
// Algorithm:
// Maintain a BITS character long buffer (so that 8 codes will
// fit in it exactly). Use the VAX insv instruction to insert each
// code in turn. When the buffer fills up empty it and start over.
var cur_accum=0;var cur_bits=0;var masks=[0x0000,0x0001,0x0003,0x0007,0x000F,0x001F,0x003F,0x007F,0x00FF,0x01FF,0x03FF,0x07FF,0x0FFF,0x1FFF,0x3FFF,0x7FFF,0xFFFF];// Number of characters so far in this 'packet'
var a_count;// Define the storage for the packet accumulator
var accum=[];var LZWEncoder=exports.LZWEncoder=function LZWEncoder(width,height,pixels,color_depth){imgW=width;imgH=height;pixAry=pixels;initCodeSize=Math.max(2,color_depth);};// Add a character to the end of the current packet, and if it is 254
// characters, flush the packet to disk.
var char_out=function char_out(c,outs){accum[a_count++]=c;if(a_count>=254)flush_char(outs);};// Clear out the hash table
// table clear for block compress
var cl_block=function cl_block(outs){cl_hash(hsize);free_ent=ClearCode+2;clear_flg=true;output(ClearCode,outs);};// reset code table
var cl_hash=function cl_hash(hsize){for(var i=0;i<hsize;++i){htab[i]=-1;}};var compress=exports.compress=function compress(init_bits,outs){var fcode;var i;/* = 0 */var c;var ent;var disp;var hsize_reg;var hshift;// Set up the globals: g_init_bits - initial number of bits
g_init_bits=init_bits;// Set up the necessary values
clear_flg=false;n_bits=g_init_bits;maxcode=MAXCODE(n_bits);ClearCode=1<<init_bits-1;EOFCode=ClearCode+1;free_ent=ClearCode+2;a_count=0;// clear packet
ent=nextPixel();hshift=0;for(fcode=hsize;fcode<65536;fcode*=2){++hshift;}hshift=8-hshift;// set hash code range bound
hsize_reg=hsize;cl_hash(hsize_reg);// clear hash table
output(ClearCode,outs);outer_loop:while((c=nextPixel())!=EOF){fcode=(c<<maxbits)+ent;i=c<<hshift^ent;// xor hashing
if(htab[i]==fcode){ent=codetab[i];continue;}else if(htab[i]>=0){// non-empty slot
disp=hsize_reg-i;// secondary hash (after G. Knott)
if(i===0)disp=1;do{if((i-=disp)<0)i+=hsize_reg;if(htab[i]==fcode){ent=codetab[i];continue outer_loop;}}while(htab[i]>=0);}output(ent,outs);ent=c;if(free_ent<maxmaxcode){codetab[i]=free_ent++;// code -> hashtable
htab[i]=fcode;}else cl_block(outs);}// Put out the final code.
output(ent,outs);output(EOFCode,outs);};// ----------------------------------------------------------------------------
var encode=exports.encode=function encode(os){os.writeByte(initCodeSize);// write "initial code size" byte
remaining=imgW*imgH;// reset navigation variables
curPixel=0;compress(initCodeSize+1,os);// compress and write the pixel data
os.writeByte(0);// write block terminator
};// Flush the packet to disk, and reset the accumulator
var flush_char=function flush_char(outs){if(a_count>0){outs.writeByte(a_count);outs.writeBytes(accum,0,a_count);a_count=0;}};var MAXCODE=function MAXCODE(n_bits){return(1<<n_bits)-1;};// ----------------------------------------------------------------------------
// Return the next pixel from the image
// ----------------------------------------------------------------------------
var nextPixel=function nextPixel(){if(remaining===0)return EOF;--remaining;var pix=pixAry[curPixel++];return pix&0xff;};var output=function output(code,outs){cur_accum&=masks[cur_bits];if(cur_bits>0)cur_accum|=code<<cur_bits;else cur_accum=code;cur_bits+=n_bits;while(cur_bits>=8){char_out(cur_accum&0xff,outs);cur_accum>>=8;cur_bits-=8;}// If the next entry is going to be too big for the code size,
// then increase it, if possible.
if(free_ent>maxcode||clear_flg){if(clear_flg){maxcode=MAXCODE(n_bits=g_init_bits);clear_flg=false;}else{++n_bits;if(n_bits==maxbits)maxcode=maxmaxcode;else maxcode=MAXCODE(n_bits);}}if(code==EOFCode){// At EOF, write the rest of the buffer.
while(cur_bits>0){char_out(cur_accum&0xff,outs);cur_accum>>=8;cur_bits-=8;}flush_char(outs);}};LZWEncoder.apply(this,arguments);return exports;};

/***/ }),
/* 21 */
/***/ (function(module, exports) {

/*
 * NeuQuant Neural-Net Quantization Algorithm
 * ------------------------------------------
 *
 * Copyright (c) 1994 Anthony Dekker
 *
 * NEUQUANT Neural-Net quantization algorithm by Anthony Dekker, 1994. See
 * "Kohonen neural networks for optimal colour quantization" in "Network:
 * Computation in Neural Systems" Vol. 5 (1994) pp 351-367. for a discussion of
 * the algorithm.
 *
 * Any party obtaining a copy of these files from the author, directly or
 * indirectly, is granted, free of charge, a full and unrestricted irrevocable,
 * world-wide, paid up, royalty-free, nonexclusive right and license to deal in
 * this software and documentation files (the "Software"), including without
 * limitation the rights to use, copy, modify, merge, publish, distribute,
 * sublicense, and/or sell copies of the Software, and to permit persons who
 * receive copies from any such party to do so, with the only requirement being
 * that this copyright notice remain intact.
 *//*
 * This class handles Neural-Net quantization algorithm
 * @author Kevin Weiner (original Java version - kweiner@fmsware.com)
 * @author Thibault Imbert (AS3 version - bytearray.org)
 * @author Kevin Kwok (JavaScript version - https://github.com/antimatter15/jsgif)
 * @version 0.1 AS3 implementation
 */NeuQuant=function NeuQuant(){var exports={};var netsize=256;/* number of colours used *//* four primes near 500 - assume no image has a length so large *//* that it is divisible by all four primes */var prime1=499;var prime2=491;var prime3=487;var prime4=503;var minpicturebytes=3*prime4;/* minimum size for input image *//*
	 * Program Skeleton ---------------- [select samplefac in range 1..30] [read
	 * image from input file] pic = (unsigned char*) malloc(3*width*height);
	 * initnet(pic,3*width*height,samplefac); learn(); unbiasnet(); [write output
	 * image header, using writecolourmap(f)] inxbuild(); write output image using
	 * inxsearch(b,g,r)
	 *//*
	 * Network Definitions -------------------
	 */var maxnetpos=netsize-1;var netbiasshift=4;/* bias for colour values */var ncycles=100;/* no. of learning cycles *//* defs for freq and bias */var intbiasshift=16;/* bias for fractions */var intbias=1<<intbiasshift;var gammashift=10;/* gamma = 1024 */var gamma=1<<gammashift;var betashift=10;var beta=intbias>>betashift;/* beta = 1/1024 */var betagamma=intbias<<gammashift-betashift;/* defs for decreasing radius factor */var initrad=netsize>>3;/* for 256 cols, radius starts */var radiusbiasshift=6;/* at 32.0 biased by 6 bits */var radiusbias=1<<radiusbiasshift;var initradius=initrad*radiusbias;/* and decreases by a */var radiusdec=30;/* factor of 1/30 each cycle *//* defs for decreasing alpha factor */var alphabiasshift=10;/* alpha starts at 1.0 */var initalpha=1<<alphabiasshift;var alphadec;/* biased by 10 bits *//* radbias and alpharadbias used for radpower calculation */var radbiasshift=8;var radbias=1<<radbiasshift;var alpharadbshift=alphabiasshift+radbiasshift;var alpharadbias=1<<alpharadbshift;/*
	 * Types and Global Variables --------------------------
	 */var thepicture;/* the input image itself */var lengthcount;/* lengthcount = H*W*3 */var samplefac;/* sampling factor 1..30 */// typedef int pixel[4]; /* BGRc */
var network;/* the network itself - [netsize][4] */var netindex=[];/* for network lookup - really 256 */var bias=[];/* bias and freq arrays for learning */var freq=[];var radpower=[];var NeuQuant=exports.NeuQuant=function NeuQuant(thepic,len,sample){var i;var p;thepicture=thepic;lengthcount=len;samplefac=sample;network=new Array(netsize);for(i=0;i<netsize;i++){network[i]=new Array(4);p=network[i];p[0]=p[1]=p[2]=(i<<netbiasshift+8)/netsize;freq[i]=intbias/netsize;/* 1/netsize */bias[i]=0;}};var colorMap=function colorMap(){var map=[];var index=new Array(netsize);for(var i=0;i<netsize;i++){index[network[i][3]]=i;}var k=0;for(var l=0;l<netsize;l++){var j=index[l];map[k++]=network[j][0];map[k++]=network[j][1];map[k++]=network[j][2];}return map;};/*
	 * Insertion sort of network and building of netindex[0..255] (to do after
	 * unbias)
	 * -------------------------------------------------------------------------------
	 */var inxbuild=function inxbuild(){var i;var j;var smallpos;var smallval;var p;var q;var previouscol;var startpos;previouscol=0;startpos=0;for(i=0;i<netsize;i++){p=network[i];smallpos=i;smallval=p[1];/* index on g *//* find smallest in i..netsize-1 */for(j=i+1;j<netsize;j++){q=network[j];if(q[1]<smallval){/* index on g */smallpos=j;smallval=q[1];/* index on g */}}q=network[smallpos];/* swap p (i) and q (smallpos) entries */if(i!=smallpos){j=q[0];q[0]=p[0];p[0]=j;j=q[1];q[1]=p[1];p[1]=j;j=q[2];q[2]=p[2];p[2]=j;j=q[3];q[3]=p[3];p[3]=j;}/* smallval entry is now in position i */if(smallval!=previouscol){netindex[previouscol]=startpos+i>>1;for(j=previouscol+1;j<smallval;j++){netindex[j]=i;}previouscol=smallval;startpos=i;}}netindex[previouscol]=startpos+maxnetpos>>1;for(j=previouscol+1;j<256;j++){netindex[j]=maxnetpos;}/* really 256 */};/*
	 * Main Learning Loop ------------------
	 */var learn=function learn(){var i;var j;var b;var g;var r;var radius;var rad;var alpha;var step;var delta;var samplepixels;var p;var pix;var lim;if(lengthcount<minpicturebytes)samplefac=1;alphadec=30+(samplefac-1)/3;p=thepicture;pix=0;lim=lengthcount;samplepixels=lengthcount/(3*samplefac);delta=samplepixels/ncycles|0;alpha=initalpha;radius=initradius;rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(i=0;i<rad;i++){radpower[i]=alpha*((rad*rad-i*i)*radbias/(rad*rad));}if(lengthcount<minpicturebytes)step=3;else if(lengthcount%prime1!==0)step=3*prime1;else{if(lengthcount%prime2!==0)step=3*prime2;else{if(lengthcount%prime3!==0)step=3*prime3;else step=3*prime4;}}i=0;while(i<samplepixels){b=(p[pix+0]&0xff)<<netbiasshift;g=(p[pix+1]&0xff)<<netbiasshift;r=(p[pix+2]&0xff)<<netbiasshift;j=contest(b,g,r);altersingle(alpha,j,b,g,r);if(rad!==0)alterneigh(rad,j,b,g,r);/* alter neighbours */pix+=step;if(pix>=lim)pix-=lengthcount;i++;if(delta===0)delta=1;if(i%delta===0){alpha-=alpha/alphadec;radius-=radius/radiusdec;rad=radius>>radiusbiasshift;if(rad<=1)rad=0;for(j=0;j<rad;j++){radpower[j]=alpha*((rad*rad-j*j)*radbias/(rad*rad));}}}};/*
	 ** Search for BGR values 0..255 (after net is unbiased) and return colour
	 * index
	 * ----------------------------------------------------------------------------
	 */var map=exports.map=function map(b,g,r){var i;var j;var dist;var a;var bestd;var p;var best;bestd=1000;/* biggest possible dist is 256*3 */best=-1;i=netindex[g];/* index on g */j=i-1;/* start at netindex[g] and work outwards */while(i<netsize||j>=0){if(i<netsize){p=network[i];dist=p[1]-g;/* inx key */if(dist>=bestd)i=netsize;/* stop iter */else{i++;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3];}}}}if(j>=0){p=network[j];dist=g-p[1];/* inx key - reverse dif */if(dist>=bestd)j=-1;/* stop iter */else{j--;if(dist<0)dist=-dist;a=p[0]-b;if(a<0)a=-a;dist+=a;if(dist<bestd){a=p[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;best=p[3];}}}}}return best;};var process=exports.process=function process(){learn();unbiasnet();inxbuild();return colorMap();};/*
	 * Unbias network to give byte values 0..255 and record position i to prepare
	 * for sort
	 * -----------------------------------------------------------------------------------
	 */var unbiasnet=function unbiasnet(){var i;var j;for(i=0;i<netsize;i++){network[i][0]>>=netbiasshift;network[i][1]>>=netbiasshift;network[i][2]>>=netbiasshift;network[i][3]=i;/* record colour no */}};/*
	 * Move adjacent neurons by precomputed alpha*(1-((i-j)^2/[r]^2)) in
	 * radpower[|i-j|]
	 * ---------------------------------------------------------------------------------
	 */var alterneigh=function alterneigh(rad,i,b,g,r){var j;var k;var lo;var hi;var a;var m;var p;lo=i-rad;if(lo<-1)lo=-1;hi=i+rad;if(hi>netsize)hi=netsize;j=i+1;k=i-1;m=1;while(j<hi||k>lo){a=radpower[m++];if(j<hi){p=network[j++];try{p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias;}catch(e){}// prevents 1.3 miscompilation
}if(k>lo){p=network[k--];try{p[0]-=a*(p[0]-b)/alpharadbias;p[1]-=a*(p[1]-g)/alpharadbias;p[2]-=a*(p[2]-r)/alpharadbias;}catch(e){}}}};/*
	 * Move neuron i towards biased (b,g,r) by factor alpha
	 * ----------------------------------------------------
	 */var altersingle=function altersingle(alpha,i,b,g,r){/* alter hit neuron */var n=network[i];n[0]-=alpha*(n[0]-b)/initalpha;n[1]-=alpha*(n[1]-g)/initalpha;n[2]-=alpha*(n[2]-r)/initalpha;};/*
	 * Search for biased BGR values ----------------------------
	 */var contest=function contest(b,g,r){/* finds closest neuron (min dist) and updates freq *//* finds best neuron (min dist-bias) and returns position *//* for frequently chosen neurons, freq[i] is high and bias[i] is negative *//* bias[i] = gamma*((1/netsize)-freq[i]) */var i;var dist;var a;var biasdist;var betafreq;var bestpos;var bestbiaspos;var bestd;var bestbiasd;var n;bestd=~(1<<31);bestbiasd=bestd;bestpos=-1;bestbiaspos=bestpos;for(i=0;i<netsize;i++){n=network[i];dist=n[0]-b;if(dist<0)dist=-dist;a=n[1]-g;if(a<0)a=-a;dist+=a;a=n[2]-r;if(a<0)a=-a;dist+=a;if(dist<bestd){bestd=dist;bestpos=i;}biasdist=dist-(bias[i]>>intbiasshift-netbiasshift);if(biasdist<bestbiasd){bestbiasd=biasdist;bestbiaspos=i;}betafreq=freq[i]>>betashift;freq[i]-=betafreq;bias[i]+=betafreq<<gammashift;}freq[bestpos]+=beta;bias[bestpos]-=betagamma;return bestbiaspos;};NeuQuant.apply(this,arguments);return exports;};

/***/ }),
/* 22 */
/***/ (function(module, exports) {

/**
 * This class lets you encode animated GIF files
 * Base class :  http://www.java2s.com/Code/Java/2D-Graphics-GUI/AnimatedGifEncoder.htm
 * @author Kevin Weiner (original Java version - kweiner@fmsware.com)
 * @author Thibault Imbert (AS3 version - bytearray.org)
 * @author Kevin Kwok (JavaScript version - https://github.com/antimatter15/jsgif)
 * @version 0.1 AS3 implementation
 */GIFEncoder=function GIFEncoder(){for(var i=0,chr={};i<256;i++){chr[i]=String.fromCharCode(i);}function ByteArray(){this.bin=[];}ByteArray.prototype.getData=function(){for(var v='',l=this.bin.length,i=0;i<l;i++){v+=chr[this.bin[i]];}return v;};ByteArray.prototype.writeByte=function(val){this.bin.push(val);};ByteArray.prototype.writeUTFBytes=function(string){for(var l=string.length,i=0;i<l;i++){this.writeByte(string.charCodeAt(i));}};ByteArray.prototype.writeBytes=function(array,offset,length){for(var l=length||array.length,i=offset||0;i<l;i++){this.writeByte(array[i]);}};var exports={};var width;// image size
var height;var transparent=null;// transparent color if given
var transIndex;// transparent index in color table
var repeat=-1;// no repeat
var delay=0;// frame delay (hundredths)
var started=false;// ready to output frames
var out;var image;// current frame
var pixels;// BGR byte array from frame
var indexedPixels;// converted frame indexed to palette
var colorDepth;// number of bit planes
var colorTab;// RGB palette
var usedEntry=[];// active palette entries
var palSize=7;// color table size (bits-1)
var dispose=-1;// disposal code (-1 = use default)
var closeStream=false;// close stream when finished
var firstFrame=true;var sizeSet=false;// if false, get size from first frame
var sample=10;// default sample interval for quantizer
var comment="Generated by jsgif (https://github.com/antimatter15/jsgif/)";// default comment for generated gif
/**
	 * Sets the delay time between each frame, or changes it for subsequent frames
	 * (applies to last frame added)
	 * int delay time in milliseconds
	 * @param ms
	 */var setDelay=exports.setDelay=function setDelay(ms){delay=Math.round(ms/10);};/**
	 * Sets the GIF frame disposal code for the last added frame and any
	 *
	 * subsequent frames. Default is 0 if no transparent color has been set,
	 * otherwise 2.
	 * @param code
	 * int disposal code.
	 */var setDispose=exports.setDispose=function setDispose(code){if(code>=0)dispose=code;};/**
	 * Sets the number of times the set of GIF frames should be played. Default is
	 * 1; 0 means play indefinitely. Must be invoked before the first image is
	 * added.
	 *
	 * @param iter
	 * int number of iterations.
	 * @return
	 */var setRepeat=exports.setRepeat=function setRepeat(iter){if(iter>=0)repeat=iter;};/**
	 * Sets the transparent color for the last added frame and any subsequent
	 * frames. Since all colors are subject to modification in the quantization
	 * process, the color in the final palette for each frame closest to the given
	 * color becomes the transparent color for that frame. May be set to null to
	 * indicate no transparent color.
	 * @param
	 * Color to be treated as transparent on display.
	 */var setTransparent=exports.setTransparent=function setTransparent(c){transparent=c;};/**
	 * Sets the comment for the block comment
	 * @param
	 * string to be insterted as comment
	 */var setComment=exports.setComment=function setComment(c){comment=c;};/**
	 * The addFrame method takes an incoming BitmapData object to create each frames
	 * @param
	 * BitmapData object to be treated as a GIF's frame
	 */var addFrame=exports.addFrame=function addFrame(im,is_imageData){if(im===null||!started||out===null){throw new Error("Please call start method before calling addFrame");}var ok=true;try{if(!is_imageData){image=im.getImageData(0,0,im.canvas.width,im.canvas.height).data;if(!sizeSet)setSize(im.canvas.width,im.canvas.height);}else{if(im instanceof ImageData){image=im.data;if(!sizeset||width!=im.width||height!=im.height){setSize(im.width,im.height);}else{}}else if(im instanceof Uint8ClampedArray){if(im.length==width*height*4){image=im;}else{console.log("Please set the correct size: ImageData length mismatch");ok=false;}}else{console.log("Please provide correct input");ok=false;}}getImagePixels();// convert to correct format if necessary
analyzePixels();// build color table & map pixels
if(firstFrame){writeLSD();// logical screen descriptior
writePalette();// global color table
if(repeat>=0){// use NS app extension to indicate reps
writeNetscapeExt();}}writeGraphicCtrlExt();// write graphic control extension
if(comment!==''){writeCommentExt();// write comment extension
}writeImageDesc();// image descriptor
if(!firstFrame)writePalette();// local color table
writePixels();// encode and write pixel data
firstFrame=false;}catch(e){ok=false;}return ok;};/**
	* @description: Downloads the encoded gif with the given name
	* No need of any conversion from the stream data (out) to base64
	* Solves the issue of large file sizes when there are more frames
	* and does not involve in creation of any temporary data in the process
	* so no wastage of memory, and speeds up the process of downloading
	* to just calling this function.
	* @parameter {String} filename filename used for downloading the gif
	*/var download=exports.download=function download(filename){try{if(out===null||closeStream==false){console.log("Please call start method and add frames and call finish method before calling download");}else{// filename= filename !== undefined ? ( filename.endsWith(".gif")? filename: filename+".gif" ): "download.gif";
var templink=document.createElement("a");templink.download=filename;console.log(out.bin);templink.href=URL.createObjectURL(new Blob([new Uint8Array(out.bin)],{type:"image/gif"}));templink.click();}}catch(error){alert(error);}};/**
	 * Adds final trailer to the GIF stream, if you don't call the finish method
	 * the GIF stream will not be valid.
	 */var finish=exports.finish=function finish(){if(!started)return false;var ok=true;started=false;try{out.writeByte(0x3b);// gif trailer
closeStream=true;}catch(e){ok=false;}return ok;};/**
	 * Resets some members so that a new stream can be started.
	 * This method is actually called by the start method
	 */var reset=function reset(){// reset for subsequent use
transIndex=0;image=null;pixels=null;indexedPixels=null;colorTab=null;closeStream=false;firstFrame=true;};/**
	 * * Sets frame rate in frames per second. Equivalent to
	 * <code>setDelay(1000/fps)</code>.
	 * @param fps
	 * float frame rate (frames per second)
	 */var setFrameRate=exports.setFrameRate=function setFrameRate(fps){if(fps!=0xf)delay=Math.round(100/fps);};/**
	 * Sets quality of color quantization (conversion of images to the maximum 256
	 * colors allowed by the GIF specification). Lower values (minimum = 1)
	 * produce better colors, but slow processing significantly. 10 is the
	 * default, and produces good color mapping at reasonable speeds. Values
	 * greater than 20 do not yield significant improvements in speed.
	 * @param quality
	 * int greater than 0.
	 * @return
	 */var setQuality=exports.setQuality=function setQuality(quality){if(quality<1)quality=1;sample=quality;};/**
	 * Sets the GIF frame size. The default size is the size of the first frame
	 * added if this method is not invoked.
	 * @param w
	 * int frame width.
	 * @param h
	 * int frame width.
	 */var setSize=exports.setSize=function setSize(w,h){if(started&&!firstFrame)return;width=w;height=h;if(width<1)width=320;if(height<1)height=240;sizeSet=true;};/**
	 * Initiates GIF file creation on the given stream.
	 * @param os
	 * OutputStream on which GIF images are written.
	 * @return false if initial write failed.
	 */var start=exports.start=function start(){reset();var ok=true;closeStream=false;out=new ByteArray();try{out.writeUTFBytes("GIF89a");// header
}catch(e){ok=false;}return started=ok;};var cont=exports.cont=function cont(){reset();var ok=true;closeStream=false;out=new ByteArray();return started=ok;};/**
	 * Analyzes image colors and creates color map.
	 */var analyzePixels=function analyzePixels(){var len=pixels.length;var nPix=len/3;indexedPixels=[];var nq=new NeuQuant(pixels,len,sample);// initialize quantizer
colorTab=nq.process();// create reduced palette
// map image pixels to new palette
var k=0;for(var j=0;j<nPix;j++){var index=nq.map(pixels[k++]&0xff,pixels[k++]&0xff,pixels[k++]&0xff);usedEntry[index]=true;indexedPixels[j]=index;}pixels=null;colorDepth=8;palSize=7;// get closest match to transparent color if specified
if(transparent!==null){transIndex=findClosest(transparent);}};/**
	 * Returns index of palette color closest to c
	 */var findClosest=function findClosest(c){if(colorTab===null)return-1;var r=(c&0xFF0000)>>16;var g=(c&0x00FF00)>>8;var b=c&0x0000FF;var minpos=0;var dmin=256*256*256;var len=colorTab.length;for(var i=0;i<len;){var dr=r-(colorTab[i++]&0xff);var dg=g-(colorTab[i++]&0xff);var db=b-(colorTab[i]&0xff);var d=dr*dr+dg*dg+db*db;var index=i/3;if(usedEntry[index]&&d<dmin){dmin=d;minpos=index;}i++;}return minpos;};/**
	 * Extracts image pixels into byte array "pixels
	 */var getImagePixels=function getImagePixels(){var w=width;var h=height;pixels=[];var data=image;var count=0;for(var i=0;i<h;i++){for(var j=0;j<w;j++){var b=i*w*4+j*4;pixels[count++]=data[b];pixels[count++]=data[b+1];pixels[count++]=data[b+2];}}};/**
	 * Writes Graphic Control Extension
	 */var writeGraphicCtrlExt=function writeGraphicCtrlExt(){out.writeByte(0x21);// extension introducer
out.writeByte(0xf9);// GCE label
out.writeByte(4);// data block size
var transp;var disp;if(transparent===null){transp=0;disp=0;// dispose = no action
}else{transp=1;disp=2;// force clear if using transparent color
}if(dispose>=0){disp=dispose&7;// user override
}disp<<=2;// packed fields
out.writeByte(0|// 1:3 reserved
disp|// 4:6 disposal
0|// 7 user input - 0 = none
transp);// 8 transparency flag
WriteShort(delay);// delay x 1/100 sec
out.writeByte(transIndex);// transparent color index
out.writeByte(0);// block terminator
};/**
	 * Writes Comment Extention
	 */var writeCommentExt=function writeCommentExt(){out.writeByte(0x21);// extension introducer
out.writeByte(0xfe);// comment label
out.writeByte(comment.length);// Block Size (s)
out.writeUTFBytes(comment);out.writeByte(0);// block terminator
};/**
	 * Writes Image Descriptor
	 */var writeImageDesc=function writeImageDesc(){out.writeByte(0x2c);// image separator
WriteShort(0);// image position x,y = 0,0
WriteShort(0);WriteShort(width);// image size
WriteShort(height);// packed fields
if(firstFrame){// no LCT - GCT is used for first (or only) frame
out.writeByte(0);}else{// specify normal LCT
out.writeByte(0x80|// 1 local color table 1=yes
0|// 2 interlace - 0=no
0|// 3 sorted - 0=no
0|// 4-5 reserved
palSize);// 6-8 size of color table
}};/**
	 * Writes Logical Screen Descriptor
	 */var writeLSD=function writeLSD(){// logical screen size
WriteShort(width);WriteShort(height);// packed fields
out.writeByte(0x80|// 1 : global color table flag = 1 (gct used)
0x70|// 2-4 : color resolution = 7
0x00|// 5 : gct sort flag = 0
palSize);// 6-8 : gct size
out.writeByte(0);// background color index
out.writeByte(0);// pixel aspect ratio - assume 1:1
};/**
	 * Writes Netscape application extension to define repeat count.
	 */var writeNetscapeExt=function writeNetscapeExt(){out.writeByte(0x21);// extension introducer
out.writeByte(0xff);// app extension label
out.writeByte(11);// block size
out.writeUTFBytes("NETSCAPE"+"2.0");// app id + auth code
out.writeByte(3);// sub-block size
out.writeByte(1);// loop sub-block id
WriteShort(repeat);// loop count (extra iterations, 0=repeat forever)
out.writeByte(0);// block terminator
};/**
	 * Writes color table
	 */var writePalette=function writePalette(){out.writeBytes(colorTab);var n=3*256-colorTab.length;for(var i=0;i<n;i++){out.writeByte(0);}};var WriteShort=function WriteShort(pValue){out.writeByte(pValue&0xFF);out.writeByte(pValue>>8&0xFF);};/**
	 * Encodes and writes pixel data
	 */var writePixels=function writePixels(){var myencoder=new LZWEncoder(width,height,indexedPixels,colorDepth);myencoder.encode(out);};/**
	 * Retrieves the GIF stream
	 */var stream=exports.stream=function stream(){return out;};var setProperties=exports.setProperties=function setProperties(has_start,is_first){started=has_start;firstFrame=is_first;};return exports;};

/***/ }),
/* 23 */
/***/ (function(module, exports) {

function encode64(input){var output="",i=0,l=input.length,key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",chr1,chr2,chr3,enc1,enc2,enc3,enc4;while(i<l){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2))enc3=enc4=64;else if(isNaN(chr3))enc4=64;output=output+key.charAt(enc1)+key.charAt(enc2)+key.charAt(enc3)+key.charAt(enc4);}return output;}

/***/ })
/******/ ]);